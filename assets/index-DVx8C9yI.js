import{r as u,j as e,R as Ye}from"./react-B1f6vjZc.js";import{c as He}from"./react-dom-D4Pz0lxv.js";import{u as ae,L as ke,a as Ke,b as Le,B as Ue,R as Ve,c as $}from"./react-router-B8Ltsqpg.js";import{m as _}from"./framer-motion-B8L5qOUJ.js";import"./cookie-CqkleIqs.js";import"./scheduler-Bb8JjhAW.js";import"./motion-dom-DMoQULKC.js";import"./motion-utils-CjIqCkNq.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=a(l);fetch(l.href,s)}})();function ze({open:t,onClose:r,initial:a={},onSave:o}){const l={reportingPeriod:a.reportingPeriod||"002.2025",inflation:a.inflation||"",labor:a.labor||"6%",fohFix:a.fohFix||"3.50%",fohVar:a.fohVar||"3.50%",incrementalDepreciation:a.incrementalDepreciation||"Keep",cr:a.cr||"",crLabor:a.crLabor||"-3.40%",crFohFix:a.crFohFix||"-2.60%",crFohVar:a.crFohVar||"-2.60%",crIncrementalDepreciation:a.crIncrementalDepreciation||"Keep",pressWelding:a.pressWelding||"3.70%",trComp:a.trComp||"0.00%",nrComp:a.nrComp||"0.00%"},[s,d]=u.useState(l),[i,f]=u.useState(!1),x=O=>{if(O==null)return"";const h=String(O).trim();if(h===""||h.toLowerCase()==="keep")return h;if(h.endsWith("%"))return h.replace(",",".").replace(/\s+/g,"");const N=h.replace(",","."),R=Number(N);return Number.isFinite(R)?`${R.toFixed(2)}%`:h},c=O=>h=>{d(N=>({...N,[O]:h.target.value}))},m=O=>h=>{const N=h.target.value;d(R=>({...R,[O]:x(N)}))},b=async()=>{if(f(!0),!s.reportingPeriod){alert("Reporting Period is required."),f(!1);return}const O={...s},h=N=>{if(N==null)return null;const R=String(N).trim();if(R===""||R.toLowerCase()==="keep")return R===""?null:"Keep";const E=R.replace("%","").replace(",",".").trim(),T=Number(E);return Number.isFinite(T)?T/100:null};O._parsed={labor:h(s.labor),fohFix:h(s.fohFix),fohVar:h(s.fohVar),incrementalDepreciation:s.incrementalDepreciation,crLabor:h(s.crLabor),crFohFix:h(s.crFohFix),crFohVar:h(s.crFohVar),crIncrementalDepreciation:s.crIncrementalDepreciation,pressWelding:h(s.pressWelding),trComp:h(s.trComp),nrComp:h(s.nrComp)},await new Promise(N=>setTimeout(N,600)),f(!1),o&&o(O),r()};return t?e.jsxs("div",{style:{position:"fixed",inset:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:[e.jsx("div",{onClick:r,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.35)"}}),e.jsxs("div",{style:{width:800,maxWidth:"calc(100% - 32px)",background:"#fff",borderRadius:12,boxShadow:"0 20px 60px rgba(2,6,23,0.2)",padding:22,zIndex:1010},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0},children:"Maintain Master Data"}),e.jsx("div",{children:e.jsx("button",{onClick:r,style:{marginLeft:8},className:"btn btn-ghost",children:"✕"})})]}),e.jsx("div",{style:{marginTop:10,color:"#374151",fontSize:13},children:"Edit master data values. Percent fields accept `6`, `6%`, `3.50`, or `3,50` and format on blur."}),e.jsxs("form",{style:{marginTop:14},onSubmit:O=>{O.preventDefault(),b()},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,fontWeight:600,color:"#0b1220",marginBottom:6},children:"Reporting Period"}),e.jsxs("select",{value:s.reportingPeriod,onChange:O=>d(h=>({...h,reportingPeriod:O.target.value})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"},children:[e.jsx("option",{children:"002.2025"}),e.jsx("option",{children:"001.2025"}),e.jsx("option",{children:"003.2025"}),e.jsx("option",{children:"004.2025"})]})]}),e.jsx("div",{}),e.jsx("div",{style:{gridColumn:"1 / -1",marginTop:6},children:e.jsx("div",{style:{fontSize:13,fontWeight:600,color:"#0b1220",marginBottom:8},children:"Inflation"})}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"Labor"}),e.jsx("input",{value:s.labor,onChange:c("labor"),onBlur:m("labor"),placeholder:"6%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"FOH Fix"}),e.jsx("input",{value:s.fohFix,onChange:c("fohFix"),onBlur:m("fohFix"),placeholder:"3.50%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"FOH Var"}),e.jsx("input",{value:s.fohVar,onChange:c("fohVar"),onBlur:m("fohVar"),placeholder:"3.50%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"Incremental Depreciation"}),e.jsx("input",{value:s.incrementalDepreciation,onChange:O=>d(h=>({...h,incrementalDepreciation:O.target.value})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsx("div",{style:{gridColumn:"1 / -1",height:1,marginTop:6,borderTop:"1px solid rgba(0,0,0,0.06)"}}),e.jsx("div",{style:{gridColumn:"1 / -1",marginTop:8},children:e.jsx("div",{style:{fontSize:13,fontWeight:600,color:"#0b1220",marginBottom:8},children:"CR"})}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"Labor"}),e.jsx("input",{value:s.crLabor,onChange:c("crLabor"),onBlur:m("crLabor"),placeholder:"-3.40%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"FOH Fix"}),e.jsx("input",{value:s.crFohFix,onChange:c("crFohFix"),onBlur:m("crFohFix"),placeholder:"-2.60%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"FOH Var"}),e.jsx("input",{value:s.crFohVar,onChange:c("crFohVar"),onBlur:m("crFohVar"),placeholder:"-2.60%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"Incremental Depreciation"}),e.jsx("input",{value:s.crIncrementalDepreciation,onChange:O=>d(h=>({...h,crIncrementalDepreciation:O.target.value})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsx("div",{style:{gridColumn:"1 / -1",height:1,marginTop:6,borderTop:"1px solid rgba(0,0,0,0.06)"}}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"Press & Welding"}),e.jsx("input",{value:s.pressWelding,onChange:c("pressWelding"),onBlur:m("pressWelding"),placeholder:"3.70%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"TR Comp"}),e.jsx("input",{value:s.trComp,onChange:c("trComp"),onBlur:m("trComp"),placeholder:"0.00%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:13,color:"#374151",marginBottom:6},children:"NR Comp"}),e.jsx("input",{value:s.nrComp,onChange:c("nrComp"),onBlur:m("nrComp"),placeholder:"0.00%",style:{padding:"8px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)"}})]})]}),e.jsxs("div",{style:{marginTop:18,display:"flex",justifyContent:"flex-end",gap:8},children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-ghost",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Saving...":"Save"})]})]})]})]}):null}const We=({isOpen:t,onClose:r,files:a,title:o,onDelete:l})=>{if(!t)return null;const s=d=>{const i=`This is a placeholder for the content of ${d.name}`,f=new Blob([i],{type:"text/csv"}),x=URL.createObjectURL(f),c=document.createElement("a");c.href=x,c.download=d.name,c.click(),URL.revokeObjectURL(x)};return e.jsx("div",{style:V.overlay,children:e.jsxs("div",{style:V.modal,children:[e.jsxs("div",{style:V.header,children:[e.jsx("h2",{children:o}),e.jsx("button",{onClick:r,style:V.closeButton,children:"×"})]}),e.jsx("div",{style:V.body,children:a.length>0?a.map((d,i)=>e.jsxs("div",{style:V.fileCard,children:[e.jsxs("div",{children:[e.jsx("div",{style:V.fileName,children:d.name}),e.jsxs("div",{style:V.fileMeta,children:["Uploaded: ",new Date(d.uploadDate).toLocaleString()]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>s(d),style:V.downloadButton,children:"Download"}),e.jsx("button",{onClick:()=>l(d.name),style:V.deleteButton,children:"Delete"})]})]},i)):e.jsx("p",{children:"No files have been uploaded yet."})})]})})},V={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"500px",maxWidth:"90%",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"20px"},closeButton:{background:"none",border:"none",fontSize:"24px",cursor:"pointer"},body:{maxHeight:"400px",overflowY:"auto"},fileCard:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"10px"},fileName:{fontWeight:"bold"},fileMeta:{fontSize:"12px",color:"#666"},downloadButton:{backgroundColor:"#007bff",color:"white",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer"},deleteButton:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer"}},ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsgAAALIBa5Ro4AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJ6SURBVFiF7ZfPi01xGMY/zwz5NdMYDWFW7NyykBKJ/GZI8geoyUZ+LCmrsaBslGIzdmPMbDQLNAtCikiJxhjJQpEIRUrDDDPzWHyP6cyZO/fec85VFp56u6dzvu/7PN9z3/f9vgfbJA04BDwHRgGntD5gfrG4xUwR4TgknQeOAJ+ATuAzlWMfUIhEbLT9taxHYudrol1cBmZUuouY/xVgEBgBHgB15XxqEnq2Rr+nbA+n2Hkcb4FWYDVwVdLMUouTApYAH233ZyQHwHYXIY82AT2SplcqQHmIEyLagWPALqBbUm2xddOqRRjhO9Aoqdb2qO0zkuqBNmBQ0n4nsj75BvLiMbAAOCBJALZPAGcJeXFukkciizuAD2mzP+Y/C3hGqKTXwMOY/ekpR0tVQS7Y/kHI/jZgABiK2T1CiW6J++TKAUkNhFp/FxMxCJycYn1f8l7eJLwALAQ2ZA2Q9y+YG1lmVLsK/gv4ewIU0CVpXYk1BUmXJM2rugDCObEK6JW0sgj5UuAmsD1FzMoF2B4jHNffgOuSlsXIm4FbQB2ww/aXqguIRLyJRIiw28VAQ3S9CNht+0mamKkbke0XklqA20BzdHsE2Gv7btp4marA9iNgDzBMOGBabfdmiZW5Fdu+I2kz0JiVPJeASMT9PP7wDzSism9AUg1h3F6fMnY/sM32UC4Btsck9QDvUwoYKEdeTMAYMGl6td1J+ErKi9qIYxzJHHgJNElaWwWyCYhadQF4NeFBYqhcDvwCbgBNWYfTIsNqPXCR0DNayn2cHgdOE5rMNaDivj4F5hCaVj3QbvvgBL6kgEjETuAwsAKYnVPAT+Ap0GG7O/nwN3kByObnvXUsAAAAAElFTkSuQmCC",ee={cmd:[{name:"CMD_Report_2023_10_22.csv",uploadDate:"2023-10-22T10:00:00Z"},{name:"CMD_Report_2023_10_21.csv",uploadDate:"2023-10-21T10:00:00Z"}],ifast:[{name:"IFAST_Data_2023_10_22.csv",uploadDate:"2023-10-22T11:00:00Z"}],sap:[{name:"SAP_Export_2023_10_22.csv",uploadDate:"2023-10-22T12:00:00Z"}],process:[{name:"Process_Cost_2023_10.csv",uploadDate:"2023-10-22T12:00:00Z"},{name:"Process_Cost_2023_12.csv",uploadDate:"2023-12-22T12:00:00Z"}],material:[{name:"Material_Cost_2023_10.csv",uploadDate:"2023-10-22T12:00:00Z"}]};function Ge(){const[t]=u.useState([{id:"cmd",name:"CMD",lastUpdate:"2025-10-22"},{id:"ifast",name:"IFAST",lastUpdate:"2025-10-21"},{id:"sap",name:"SAP",lastUpdate:"2025-10-20"}]),[r]=u.useState({lastPeriod:"2025-09"}),[a,o]=u.useState(!1),[l,s]=u.useState(!1),[d,i]=u.useState(null),[f,x]=u.useState([]),[c,m]=u.useState([]),[b,O]=u.useState(!1),[h,N]=u.useState([]),[R,E]=u.useState(""),[T,B]=u.useState(""),n=u.useMemo(()=>{const y=[...ee.process||[],...c];return y.length===0?null:(y.sort((C,w)=>new Date(w.uploadDate)-new Date(C.uploadDate)),y[0])},[c]),p=u.useMemo(()=>{const y=[...ee.material||[],...f];return y.length===0?null:(y.sort((C,w)=>new Date(w.uploadDate)-new Date(C.uploadDate)),y[0])},[f]),S=ae();function v(y){console.log(`Deleting ${y} from ${T}`),T==="process"?m(C=>C.filter(w=>w.name!==y)):T==="material"&&x(C=>C.filter(w=>w.name!==y)),N(C=>C.filter(w=>w.name!==y))}function P(y){const C=ee[y.id]||[];F(y.id,C)}function I(){o(!0)}function j(){o(!1)}function A(y){const C=y.target.files[0];if(C&&(C.type==="application/vnd.ms-excel"||C.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")){const w={name:C.name,size:C.size,uploadDate:new Date().toISOString()};x(Q=>[...Q,w]),console.log("File uploaded:",C.name)}else alert("Please select a valid Excel file (.xls or .xlsx)")}function g(y){const C=y.target.files[0];if(C&&(C.type==="application/vnd.ms-excel"||C.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")){const w={name:C.name,size:C.size,uploadDate:new Date().toISOString()};m(Q=>[...Q,w]),console.log("Process file uploaded:",C.name)}else alert("Please select a valid Excel file (.xls or .xlsx)")}function F(y,C){N(C),B(y),E(y==="material"?"Download Material Cost Files":y==="process"?"Download Process Cost Files":`Download ${y.toUpperCase()} Files`),O(!0)}function U(){const y=[...ee.process||[],...c];F("process",y)}function k(){const y=[...ee.material||[],...f];F("material",y)}function G(y){let C="",w;if(y==="process")w=`Process,CostType,Amount,Currency
Labor,Direct,0,USD
FOH,Overhead,0,USD`,C="process-cost-template.csv";else if(y==="material")w=`Part Number,Material Type,Cost per Unit,Currency
PART-001,Steel,0,USD`,C="material-cost-template.csv";else return;const Q=new Blob([w],{type:"text/csv"}),Re=URL.createObjectURL(Q),ge=document.createElement("a");ge.href=Re,ge.download=C,ge.click(),URL.revokeObjectURL(Re)}function me(){S("/part-pairing")}function fe(){console.log("Navigating to Synchronize Part List page..."),S("/sync")}return e.jsxs("div",{className:"app-container",children:[e.jsx("header",{className:"app-header",children:e.jsxs("div",{className:"app-header-left",children:[e.jsx("h1",{children:"Dashboard IH Cost"}),e.jsx("p",{children:"Overview of source syncs and master-data tools"})]})}),e.jsxs("main",{children:[e.jsxs("section",{children:[e.jsx("h2",{className:"section-title",children:"Data Synchronization"}),e.jsxs("div",{className:"grid-5",children:[t.map(y=>e.jsxs(_.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28},className:"card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"title",children:y.name}),e.jsxs("div",{className:"meta",children:["Last Update: ",e.jsx("span",{children:y.lastUpdate})]})]}),e.jsxs("div",{className:"card-footer",children:[e.jsxs("div",{className:"small",children:["Status: ",e.jsx("strong",{className:"status-ok",children:"OK"})]}),e.jsx("div",{className:"card-actions",children:e.jsx("button",{onClick:()=>P(y),className:"btn btn-primary",children:"Download"})})]})]},y.id)),e.jsx(_.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.05},className:"card arrow-card",children:"➜"}),e.jsxs(_.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.1},className:"card sync-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"title",children:"Synchronize Part List"}),e.jsx("div",{className:"meta",children:"Combine data from CMD, SAP, and IFAST"})]}),e.jsxs("div",{className:"card-footer",children:[e.jsx("div",{}),e.jsx("div",{className:"card-actions",children:e.jsx("button",{className:"btn btn-primary sync-button",onClick:fe,children:"Synchronize"})})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"section-title",children:"Calculation"}),e.jsxs("div",{className:"grid-4",children:[e.jsxs(_.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.02},className:"card",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"card-title-flex",children:[e.jsx("div",{className:"title",children:"Process Cost"}),e.jsxs("a",{href:"#",onClick:y=>{y.preventDefault(),G("process")},className:"template-link",children:[e.jsx("img",{src:ve,alt:"Download Template"}),e.jsx("span",{children:"Template"})]})]}),e.jsxs("div",{className:"meta",children:["Last Update: ",e.jsx("span",{children:n?new Date(n.uploadDate).toLocaleDateString("en-CA"):"-"})]}),e.jsx("div",{className:"small card-meta-margin",children:"Labor, FOH, depreciation, and other processing costs used in calculations."})]}),e.jsxs("div",{className:"card-footer",children:[e.jsx("div",{className:"small",children:n?e.jsx("strong",{className:"status-ok",children:"Ready"}):e.jsx("strong",{className:"status-warning",children:"Upload required"})}),e.jsxs("div",{className:"card-actions",children:[e.jsx("input",{type:"file",accept:".xls,.xlsx",onChange:g,style:{display:"none"},id:"process-cost-upload"}),e.jsx("label",{htmlFor:"process-cost-upload",className:"btn btn-ghost upload-label",children:"Upload"}),e.jsx("button",{onClick:U,className:"btn btn-primary",disabled:!n,style:n?{}:{opacity:.5,cursor:"not-allowed"},children:"Download"})]})]})]}),e.jsxs(_.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.04},className:"card",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"card-title-flex",children:[e.jsx("div",{className:"title",children:"Material Cost"}),e.jsxs("a",{href:"#",onClick:y=>{y.preventDefault(),G("material")},className:"template-link",children:[e.jsx("img",{src:ve,alt:"Download Template"}),e.jsx("span",{children:"Template"})]})]}),e.jsxs("div",{className:"meta",children:["Last Update: ",e.jsx("span",{children:p?new Date(p.uploadDate).toLocaleDateString("en-CA"):"-"})]}),e.jsx("div",{className:"small card-meta-margin",children:"Raw material costs, including prices, quantities, and supplier information."})]}),e.jsxs("div",{className:"card-footer",children:[e.jsx("div",{className:"small",children:p?e.jsx("strong",{className:"status-ok",children:"Ready"}):e.jsx("strong",{className:"status-warning",children:"Upload required"})}),e.jsxs("div",{className:"card-actions",children:[e.jsx("input",{type:"file",accept:".xls,.xlsx",onChange:A,style:{display:"none"},id:"material-cost-upload"}),e.jsx("label",{htmlFor:"material-cost-upload",className:"btn btn-ghost upload-label",children:"Upload"}),e.jsx("button",{onClick:k,className:"btn btn-primary",disabled:!p,style:p?{}:{opacity:.5,cursor:"not-allowed"},children:"Download"})]})]})]}),e.jsx(_.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.06},className:"card arrow-card",children:"➜"}),e.jsxs(_.div,{className:"card ihp-area",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.08},children:[e.jsxs("div",{children:[e.jsx("div",{className:"title",children:"IHP"}),e.jsx("div",{className:"meta",children:"Perform calculation for IHP metrics across synced sources."}),d&&e.jsxs("div",{className:"small ihp-result",children:["Last result: ",d.value," (calculated at ",new Date(d.timestamp).toLocaleString(),")"]})]}),e.jsxs("div",{className:"card-footer ihp-calc-btn",children:[e.jsx("div",{}),e.jsx("div",{children:e.jsx("button",{onClick:()=>S("/ppr"),disabled:l,className:"btn btn-primary",style:l?{opacity:.7,cursor:"wait"}:{},children:l?"Calculating...":"Calculate IHP"})})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"section-title",children:"Master Data"}),e.jsxs("div",{className:"grid-2",children:[e.jsxs(_.div,{className:"card master-card",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.04},children:[e.jsxs("div",{children:[e.jsx("div",{className:"title",children:"Master Assumption"}),e.jsxs("div",{className:"meta",children:["Last Period: ",e.jsx("span",{children:r.lastPeriod})]}),e.jsx("div",{className:"small card-meta-margin",children:"Maintain core reference tables used by the synchronization processes. Use the button below to manage values."})]}),e.jsxs("div",{className:"card-footer",children:[e.jsx("div",{}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>alert("View master data (preview)"),children:"View"}),e.jsx("button",{className:"btn btn-primary",onClick:I,children:"Maintain Master Assumption"})]})]})]}),e.jsxs(_.div,{className:"card",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.28,delay:.08},children:[e.jsxs("div",{children:[e.jsx("div",{className:"title",children:"Part Pairing Management"}),e.jsx("div",{className:"meta",children:"Cross-system part mapping and relationships"}),e.jsx("div",{className:"small card-meta-margin",children:"Manage part number mappings between CMD, SAP, and IFAST systems. Define equivalency relationships and maintain cross-reference tables."})]}),e.jsxs("div",{className:"card-footer",children:[e.jsxs("div",{className:"small",children:["Status: ",e.jsx("strong",{className:"status-ok",children:"Ready"})]}),e.jsx("div",{className:"card-actions",children:e.jsx("button",{className:"btn btn-primary",onClick:me,children:"Manage Pairings"})})]})]})]})]})]}),e.jsx("div",{className:"page-bottom"}),e.jsx(ze,{open:a,onClose:j,onSave:y=>{console.log("Master data saved:",y)}}),e.jsx(We,{isOpen:b,onClose:()=>O(!1),files:h,title:R,onDelete:v})]})}function _e(){const t=ae(),[r,a]=u.useState(1),o=15,l=[["122810Y11000","HANGER, ENGINE, NO.1","SETIA GUNA SEJATI"],["130500Y02000","GEAR ASSY, CAMSHAFT TIMING","DENSO INDONESIA CORPORATION (FAJAR)"],["25051BZ15000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["25051BZ26000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["22030BZ15000","BODY ASSY, THROTTLE W/MOTOR","AISAN NASMOCO INDUSTRI"],["90210T000200","WASHER, SEAL","ARAI RUBBER SEAL INDONESIA"],["90430T002300","GASKET","ARAI RUBBER SEAL INDONESIA"],["111150Y03000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["11115BZ16000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["171730Y03000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["17173BZ13000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["115110Y04000","CAP, CRANKSHAFT BEARING, NO.1","AT INDONESIA"],["115130Y04000","CAP, CRANKSHAFT BEARING, NO.3","AT INDONESIA"],["16261BZ75000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16261BZ76000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16264BZ38000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16264BZ39000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16282BZ11000","HOSE, WATER BY-PASS, NO.5","CATURINDO AGUNGJAYA RUBBER"],["89467BZ02000","SENSOR, AIR FUEL RATIO","DENSO INDONESIA CORPORATION (SIP C)"]],s=u.useMemo(()=>l.map(n=>({partNo:n[0],partName:n[1],supplier:n[2],cmd:!0,sap:Math.random()>.5,ifast:Math.random()>.5})),[]),d=n=>!n&&n!==0?"":String(n).replace(/(.{5})/g,"$1-").replace(/-$/,""),[i,f]=u.useState(!1),[x,c]=u.useState("all"),m=u.useMemo(()=>x==="ifast"?s.filter(n=>n.cmd&&!n.ifast).map(n=>({...n,reasons:["Missing in IFAST"]})):x==="sap"?s.filter(n=>n.cmd&&!n.sap).map(n=>({...n,reasons:["Missing in SAP"]})):s.filter(n=>!(n.cmd&&n.sap&&n.ifast)).map(n=>{const p=[];return n.sap||p.push("Missing in SAP"),n.ifast||p.push("Missing in IFAST"),{...n,reasons:p}}),[s,x]),b=(n="all")=>{c(n),f(!0)},O=(n=null)=>{const p=n||x,S=p==="ifast"?s.filter(g=>g.cmd&&!g.ifast).map(g=>({...g,reasons:["Missing in IFAST"]})):p==="sap"?s.filter(g=>g.cmd&&!g.sap).map(g=>({...g,reasons:["Missing in SAP"]})):s.filter(g=>!(g.cmd&&g.sap&&g.ifast)).map(g=>{const F=[];return g.sap||F.push("Missing in SAP"),g.ifast||F.push("Missing in IFAST"),{...g,reasons:F}}),P=[["Part No","Part Name","Supplier","CMD","SAP","IFAST","Issues"].join(","),...S.map(g=>[d(g.partNo),`"${g.partName.replace(/"/g,'""')}"`,`"${g.supplier.replace(/"/g,'""')}"`,g.cmd?"TRUE":"FALSE",g.sap?"TRUE":"FALSE",g.ifast?"TRUE":"FALSE",`"${g.reasons.join("; ")}"`].join(","))].join(`
`),I=new Blob([P],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(I),A=document.createElement("a");A.href=j,A.download=`sync-compare-results-${p}.csv`,A.click(),URL.revokeObjectURL(j)},h=s.length,N=Math.ceil(h/o),R=(r-1)*o,E=R+o,T=s.slice(R,E),B=n=>{a(Math.max(1,Math.min(n,N)))};return e.jsx("div",{style:{padding:28},children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:18},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("button",{className:"btn",onClick:()=>t(-1),style:{backgroundColor:"#007bff",color:"white",border:"none"},children:"← Back"}),e.jsx("h1",{style:{margin:0},children:"Synchronize Part List"})]}),e.jsx("p",{style:{margin:"6px 0 0",color:"#6b7280"},children:"Shows which part lists exist in CMD / SAP / IFAST."})]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{onClick:()=>b("ifast"),className:"btn btn-primary",title:"Compare gap between CMD and IFAST",children:"Compare Gap CMD vs IFAST"}),e.jsx("button",{onClick:()=>b("sap"),className:"btn btn-primary",title:"Compare gap between CMD and SAP",children:"Compare Gap CMD vs SAP"}),e.jsx("button",{onClick:()=>O("all"),className:"btn btn-primary",title:"Export CSV (download comparison of CMD/SAP/IFAST)",children:"Export CSV"})]})]}),e.jsx("div",{style:{overflowX:"auto",borderRadius:12,border:"1px solid rgba(0,0,0,0.06)"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:950},children:[e.jsx("thead",{style:{background:"rgba(15,23,42,0.03)"},children:e.jsxs("tr",{children:[e.jsx("th",{style:te,children:"Record No"}),e.jsx("th",{style:Ze,children:"Part No"}),e.jsx("th",{style:$e,children:"Part Name"}),e.jsx("th",{style:te,children:"Supplier Name"}),e.jsx("th",{style:te,children:"CMD"}),e.jsx("th",{style:te,children:"SAP"}),e.jsx("th",{style:te,children:"IFAST"})]})}),e.jsx("tbody",{children:T.map((n,p)=>{const S=R+p+1;return e.jsxs("tr",{style:{borderBottom:"1px solid rgba(0,0,0,0.04)"},children:[e.jsx("td",{style:se,children:S}),e.jsx("td",{style:Je,children:d(n.partNo)}),e.jsx("td",{style:qe,children:n.partName}),e.jsx("td",{style:xe,children:n.supplier}),e.jsx("td",{style:se,children:e.jsx("input",{type:"checkbox",checked:n.cmd,readOnly:!0})}),e.jsx("td",{style:se,children:e.jsx("input",{type:"checkbox",checked:n.sap,readOnly:!0})}),e.jsx("td",{style:se,children:e.jsx("input",{type:"checkbox",checked:n.ifast,readOnly:!0})})]},n.partNo)})})]})}),i&&e.jsx("div",{style:{position:"fixed",left:0,top:0,right:0,bottom:0,background:"rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:e.jsxs("div",{style:{width:920,maxHeight:"80vh",overflow:"auto",background:"white",borderRadius:8,padding:18},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h3",{style:{margin:0},children:x==="ifast"?"Compare: CMD vs IFAST":x==="sap"?"Compare: CMD vs SAP":"Compare Results (CMD / SAP / IFAST)"}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Close"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>O(),disabled:m.length===0,children:"Export CSV"})]})]}),e.jsxs("div",{style:{marginBottom:8,color:"#374151"},children:["Mismatched records: ",e.jsx("strong",{children:m.length}),x==="ifast"&&" (rows where IFAST is missing)",x==="sap"&&" (rows where SAP is missing)",x==="all"&&" (rows missing SAP or IFAST)"]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{style:{background:"#f3f4f6"},children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"left",padding:"8px 10px"},children:"Part No"}),e.jsx("th",{style:{textAlign:"left",padding:"8px 10px"},children:"Part Name"}),e.jsx("th",{style:{textAlign:"left",padding:"8px 10px"},children:"Supplier"}),e.jsx("th",{style:{textAlign:"center",padding:"8px 10px"},children:"CMD"}),x==="ifast"&&e.jsx("th",{style:{textAlign:"center",padding:"8px 10px"},children:"IFAST"}),x==="sap"&&e.jsx("th",{style:{textAlign:"center",padding:"8px 10px"},children:"SAP"}),x==="all"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{style:{textAlign:"center",padding:"8px 10px"},children:"SAP"}),e.jsx("th",{style:{textAlign:"center",padding:"8px 10px"},children:"IFAST"})]}),e.jsx("th",{style:{textAlign:"left",padding:"8px 10px"},children:"Issues"})]})}),e.jsxs("tbody",{children:[m.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:x==="all"?6:5,style:{padding:12,color:"#6b7280"},children:"No mismatches found."})}),m.map(n=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(0,0,0,0.04)"},children:[e.jsx("td",{style:{padding:"8px 10px"},children:d(n.partNo)}),e.jsx("td",{style:{padding:"8px 10px"},children:n.partName}),e.jsx("td",{style:{padding:"8px 10px"},children:n.supplier}),e.jsx("td",{style:{textAlign:"center",padding:"8px 10px"},children:n.cmd?"✓":"—"}),x==="ifast"&&e.jsx("td",{style:{textAlign:"center",padding:"8px 10px"},children:n.ifast?"✓":"—"}),x==="sap"&&e.jsx("td",{style:{textAlign:"center",padding:"8px 10px"},children:n.sap?"✓":"—"}),x==="all"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{style:{textAlign:"center",padding:"8px 10px"},children:n.sap?"✓":"—"}),e.jsx("td",{style:{textAlign:"center",padding:"8px 10px"},children:n.ifast?"✓":"—"})]}),e.jsx("td",{style:{padding:"8px 10px",color:"#b91c1c"},children:n.reasons.join("; ")})]},n.partNo))]})]})]})}),e.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{fontSize:13,color:"#6b7280"},children:["Showing ",R+1," to ",Math.min(E,h)," of ",h," records"]}),e.jsxs("div",{style:{display:"flex",gap:4,alignItems:"center"},children:[e.jsx("button",{onClick:()=>B(r-1),disabled:r===1,className:"btn btn-ghost",style:{padding:"4px 8px",fontSize:12,opacity:r===1?.5:1,cursor:r===1?"not-allowed":"pointer"},children:"Previous"}),Array.from({length:N},(n,p)=>p+1).map(n=>e.jsx("button",{onClick:()=>B(n),className:n===r?"btn btn-primary":"btn btn-ghost",style:{padding:"4px 8px",fontSize:12,minWidth:32},children:n},n)),e.jsx("button",{onClick:()=>B(r+1),disabled:r===N,className:"btn btn-ghost",style:{padding:"4px 8px",fontSize:12,opacity:r===N?.5:1,cursor:r===N?"not-allowed":"pointer"},children:"Next"})]})]}),e.jsx("div",{style:{marginTop:16,display:"flex",justifyContent:"flex-end",gap:8}})]})})}const be={textAlign:"left",padding:"12px 14px",fontSize:13,color:"#0b1220",fontWeight:600},te={...be,textAlign:"center"},xe={padding:"12px 14px",fontSize:13,color:"#374151"},se={...xe,textAlign:"center"},Ze={...be,padding:"12px 20px",minWidth:160,textAlign:"center"},Je={...xe,padding:"12px 20px",minWidth:160},$e={...be,padding:"12px 20px",minWidth:300,textAlign:"center"},qe={...xe,padding:"12px 20px",minWidth:300};function Xe({selectedPeriod:t,comparisonPeriod:r,availablePeriods:a,onPeriodChange:o,onComparisonPeriodChange:l}){return e.jsxs("div",{style:{padding:"20px 28px",marginBottom:20,position:"relative"},children:[e.jsx(ke,{to:"/",style:{position:"absolute",top:20,right:28,fontSize:24,textDecoration:"none",color:"#333",lineHeight:1},children:"×"}),e.jsx("h1",{style:{margin:"0 0 12px 0",fontSize:20,fontWeight:600},children:"Cost Analysis Report"}),e.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#666",marginRight:8},children:"Period:"}),e.jsx("select",{value:t,onChange:s=>o(s.target.value),style:{padding:"6px 10px",borderRadius:4,border:"1px solid #d1d5db",fontSize:12},children:a.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#666",marginRight:8},children:"Compare with:"}),e.jsx("select",{value:r,onChange:s=>l(s.target.value),style:{padding:"6px 10px",borderRadius:4,border:"1px solid #d1d5db",fontSize:12},children:a.map(s=>e.jsx("option",{value:s,children:s},s))})]})]})]})}const Oe=({title:t,values:r,onApply:a,onClose:o,initialCheckedValues:l})=>{const[s,d]=u.useState(""),[i,f]=u.useState(l),x=m=>{f(b=>b.includes(m)?b.filter(O=>O!==m):[...b,m])},c=r.filter(m=>m.toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{style:{position:"absolute",top:"40px",left:"0",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",padding:"16px",zIndex:100,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",width:"250px"},children:[e.jsxs("h3",{style:{marginTop:0,marginBottom:"12px"},children:["Filter by ",t]}),e.jsx("input",{type:"text",placeholder:"Search...",value:s,onChange:m=>d(m.target.value),style:{width:"100%",padding:"8px",marginBottom:"12px",borderRadius:"4px",border:"1px solid #ccc"}}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",textAlign:"left"},children:c.map(m=>e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:m,checked:i.includes(m),onChange:()=>x(m)}),e.jsx("label",{htmlFor:m,style:{marginLeft:"8px"},children:m})]},m))}),e.jsxs("div",{style:{marginTop:"16px",display:"flex",justifyContent:"flex-end",gap:"8px"},children:[e.jsx("button",{onClick:o,style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #ccc"},children:"Cancel"}),e.jsx("button",{onClick:()=>a(i),style:{padding:"8px 16px",borderRadius:"4px",border:"none",backgroundColor:"#2563eb",color:"white"},children:"Apply"})]})]})},re=["Tooling OH","Raw Material","Total Purchase Cost","Labor","FOH Fix","FOH Var","Depre Common","Depre Exclusive","Total Process Cost","Total Cost","MH Cost","Sales Volume","Prod Volume"],Ae=["Volume","Inflation","CR","Material Price Impact","Gentan-I Impact","Material Change"],he={"Tooling OH":"tooling_oh","Raw Material":"raw_material",Labor:"labor","FOH Fix":"foh_fixed","FOH Var":"foh_var","Depre Common":"depre_common","Depre Exclusive":"depre_exclusive","Total Cost":"total_cost","MH Cost":"mh_cost","Sales Volume":"sales_volume","Prod Volume":"prod_volume"},Qe={Volume:"volume",Inflation:"inflation",CR:"CR","Material Price Impact":"material_price_impact","Gentan-I Impact":"gentan_i_impact","Material Change":"material_change"},Z=["Tooling OH","Raw Material"],W=["Labor","FOH Fix","FOH Var","Depre Common","Depre Exclusive"],K=(t,r,a)=>{if(!t.months||!t.months[r])return null;const o=he[a];return t.months[r][o]},et=(t,r)=>!t||!r?null:(t-r)/r*100,Ie=(t,r,a)=>`${t}:::${r}:::${a}`,ue=(t,r,a,o)=>{const l=Ie(t,r,a);return o.hasOwnProperty(l)?o[l]:void 0},De=(t,r,a)=>{const o=he[r],l=ue(t.part_no,r,"PBMD",a);return l!==void 0?l:t.months&&t.months.pbmd_values?t.months.pbmd_values[o]:""},Be=(t,r,a)=>{const o=he[r],l=ue(t.part_no,r,"Adj",a);return l!==void 0?l:t.months&&t.months.adj_values?t.months.adj_values[o]:""},Fe=(t,r,a)=>r.reduce((o,l)=>{const s=parseFloat(a(t,l))||0;return o+s},0),oe=(t,r,a)=>Fe(t,r,(o,l)=>De(o,l,a)),ie=(t,r,a)=>Fe(t,r,(o,l)=>Be(o,l,a)),Ce=(t,r,a)=>{const o=ue(t.part_no,r,"Remark",a);return o!==void 0?o:""},tt=(t,r,a)=>{const o=Qe[a]||a.toLowerCase().replace(/ /g,"_"),l=he[r];return t.months&&t.months[o]&&t.months[o][l]!==void 0?t.months[o][l]:""},ye=(t,r,a,o)=>{const l=ue(t.part_no,r,a,o);if(l!==void 0)return l;const s=tt(t,r,a);return s!=null&&s!==""?s:""},rt=(t,r,a,o)=>{let l,s;if(r==="Total Purchase Cost")l=(K(t,a,"Tooling OH")||0)+(K(t,a,"Raw Material")||0),s=(K(t,o,"Tooling OH")||0)+(K(t,o,"Raw Material")||0);else if(r==="Total Process Cost")l=W.map(f=>K(t,a,f)||0).reduce((f,x)=>f+x,0),s=W.map(f=>K(t,o,f)||0).reduce((f,x)=>f+x,0);else if(r==="Total Cost"){const d=Z.map(c=>K(t,a,c)||0),i=W.map(c=>K(t,a,c)||0);l=d.reduce((c,m)=>c+m,0)+i.reduce((c,m)=>c+m,0);const f=Z.map(c=>K(t,o,c)||0),x=W.map(c=>K(t,o,c)||0);s=f.reduce((c,m)=>c+m,0)+x.reduce((c,m)=>c+m,0)}else l=K(t,a,r),s=K(t,o,r);return{currentValue:l,previousValue:s}},at=(t,r,a)=>{let o,l;return r==="Total Purchase Cost"?(o=oe(t,Z,a),l=ie(t,Z,a)):r==="Total Process Cost"?(o=oe(t,W,a),l=ie(t,W,a)):r==="Total Cost"?(o=oe(t,Z,a)+oe(t,W,a),l=ie(t,Z,a)+ie(t,W,a)):(o=De(t,r,a)||"",l=Be(t,r,a)||""),{pbmdDisplayValue:o,adjDisplayValue:l}},le=(t,r,a,o)=>{let l=0;for(const s of r){const d=ye(t,s,a,o),i=parseFloat(d);isNaN(i)||(l+=i)}return l},st=(t,r,a,o)=>{if(r==="Total Purchase Cost")return le(t,Z,a,o);if(r==="Total Process Cost")return le(t,W,a,o);if(r==="Total Cost"){const l=le(t,Z,a,o),s=le(t,W,a,o);return l+s}return ye(t,r,a,o)};function ot(t){const{part:r,costItem:a,idx:o,selectedPeriod:l,comparisonPeriod:s,calculateCostValues:d,calculateDiff:i,getDisplayValues:f,handleCellChange:x,analysisData:c}=t,{currentValue:m,previousValue:b}=d(r,a,l,s),{pbmdDisplayValue:O,adjDisplayValue:h}=f(r,a,c),[N,R]=u.useState(!1),E=m!==null&&b!==null?m-b:null,T=i(m,b),B=o===re.length-1,n=a==="Total Purchase Cost"||a==="Total Process Cost",p=n||a==="Total Cost";return e.jsxs("tr",{style:{borderBottom:B?"3px solid #d1d5db":"1px solid #e5e7eb",background:p?"#f9facd":o%2===0?"#fafafa":"#fff"},children:[o===0&&e.jsxs(e.Fragment,{children:[e.jsx("td",{rowSpan:re.length,className:"td-default",style:{fontWeight:"bold",background:"#e8f1f7",verticalAlign:"middle",borderRight:"2px solid #d1d5db",paddingLeft:"2px"},children:r.part_no}),e.jsx("td",{rowSpan:re.length,style:{fontWeight:"bold",background:"#e8f1f7",verticalAlign:"middle",borderRight:"2px solid #d1d5db"},children:r.importer}),e.jsx("td",{rowSpan:re.length,style:{fontWeight:"bold",background:"#e8f1f7",verticalAlign:"middle",borderRight:"2px solid #d1d5db"},children:r.category})]}),e.jsx("td",{className:"td-default",style:{fontWeight:p?"bold":500,borderRight:"1px solid #e5e7eb"},children:a}),e.jsx("td",{className:"td-default",style:{textAlign:"right",fontWeight:p?"bold":"normal"},children:m?m.toLocaleString():"-"}),e.jsx("td",{className:"td-default",style:{textAlign:"right",fontWeight:p?"bold":"normal"},children:b?b.toLocaleString():"-"}),e.jsx("td",{className:"td-default",style:{textAlign:"right",fontWeight:p?"bold":"normal"},children:E!==null?E.toLocaleString():"-"}),e.jsx("td",{className:"td-default",style:{textAlign:"right",color:T&&Math.abs(T)>15?"#dc2626":"inherit",fontWeight:p?"bold":T&&Math.abs(T)>15?600:"normal"},children:T?`${T.toFixed(2)}%`:"-"}),e.jsx("td",{className:"td-default",style:{textAlign:"center"},children:e.jsx("input",{type:"text",placeholder:"-",value:O,onChange:S=>x(r.part_no,a,"PBMD",S.target.value),style:{width:"100%",padding:"4px",border:"1px solid #d1d5db",borderRadius:3,fontSize:11,textAlign:"right"},disabled:n})}),e.jsx("td",{className:"td-default",style:{textAlign:"center"},children:e.jsx("input",{type:"text",placeholder:"-",value:h,onChange:S=>x(r.part_no,a,"Adj",S.target.value),style:{width:"100%",padding:"4px",border:"1px solid #d1d5db",borderRadius:3,fontSize:11,textAlign:"right"},disabled:n})}),Ae.map(S=>{const v=n?st(r,a,S,c):ye(r,a,S,c),P=v!==null&&v!==""&&v!==void 0?typeof v=="number"?v.toLocaleString():v:"";return e.jsx("td",{className:"td-default",style:{textAlign:"center"},children:e.jsx("input",{type:"text",placeholder:"-",value:P,onChange:I=>x(r.part_no,a,S,I.target.value),style:{width:"100%",padding:"4px",border:"1px solid #d1d5db",borderRadius:3,fontSize:11,textAlign:"right"},disabled:n})},S)}),e.jsx("td",{className:"td-default",style:{textAlign:"center"},onClick:()=>!n&&R(!0),children:N?e.jsx("textarea",{placeholder:"-",value:n?"":Ce(r,a,c)||"",onChange:S=>x(r.part_no,a,"Remark",S.target.value),onBlur:()=>R(!1),autoFocus:!0,style:{width:"100%",minHeight:"50px",padding:"4px",border:"1px solid #d1d5db",borderRadius:3,fontSize:11,textAlign:"left",resize:"vertical"},disabled:n}):e.jsx("span",{style:{display:"block",width:"100%",minHeight:"24px",textAlign:"left",whiteSpace:"pre-wrap"},children:n?"":Ce(r,a,c)||""})})]})}const Se=()=>e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M3 4H21V6.58579C21 7.11236 20.7893 7.61714 20.4142 8L14 14.4142V20L10 22V14.4142L3.58579 8C3.21071 7.61714 3 7.11236 3 6.58579V4Z"})});function it(t){const{filteredMspData:r,filterStates:a,toggleFilter:o,uniquePartNos:l,uniqueImporters:s,uniqueCategories:d,filteredPartNos:i,filteredImporters:f,filteredCategories:x,onApplyFilter:c,onApplyImporterFilter:m,onApplyCategoryFilter:b,selectedPeriod:O,comparisonPeriod:h,calculateCostValues:N,calculateDiff:R,getDisplayValues:E,handleCellChange:T,analysisData:B}=t;return e.jsx("div",{style:{overflowX:"auto",background:"#fff"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[e.jsxs("thead",{style:{position:"sticky",top:0,zIndex:10},children:[e.jsxs("tr",{style:{borderBottom:"1px solid #d1d5db"},children:[e.jsxs("th",{rowSpan:2,className:"tbl-header",style:{minWidth:120,position:"relative"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Part No"}),e.jsx("span",{style:{cursor:"pointer"},onClick:()=>o("partNo"),children:e.jsx(Se,{})})]}),a.partNo&&e.jsx(Oe,{title:"Part No",values:l,initialCheckedValues:i,onApply:c,onClose:()=>o("partNo")})]}),e.jsxs("th",{rowSpan:2,className:"tbl-header",style:{position:"relative"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"importer"}),e.jsx("span",{style:{cursor:"pointer"},onClick:()=>o("importer"),children:e.jsx(Se,{})})]}),a.importer&&e.jsx(Oe,{title:"Importer",values:s,initialCheckedValues:f,onApply:m,onClose:()=>o("importer")})]}),e.jsxs("th",{rowSpan:2,className:"tbl-header",style:{position:"relative"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"category"}),e.jsx("span",{style:{cursor:"pointer"},onClick:()=>o("category"),children:e.jsx(Se,{})})]}),a.category&&e.jsx(Oe,{title:"Category",values:d,initialCheckedValues:x,onApply:b,onClose:()=>o("category")})]}),e.jsx("th",{rowSpan:2,className:"tbl-header",children:"Cost Item"}),e.jsx("th",{colSpan:6,style:{textAlign:"center",padding:"8px",background:"#a8d8f0",fontWeight:600,borderBottom:"1px solid #d1d5db"},children:"Calculation"}),e.jsx("th",{colSpan:Ae.length,style:{textAlign:"center",padding:"8px",background:"#f5d5a8",fontWeight:600,borderBottom:"1px solid #d1d5db"},children:"Analysis"}),e.jsx("th",{rowSpan:2,className:"tbl-header",style:{minWidth:150,background:"#bbfebb"},children:"Remark"})]}),e.jsxs("tr",{style:{borderBottom:"1px solid #d1d5db"},children:[e.jsx("th",{className:"tbl-header",style:{minWidth:70,background:"#e3f6ff"},children:h}),e.jsx("th",{className:"tbl-header",style:{minWidth:70,background:"#e3f6ff"},children:O}),e.jsx("th",{className:"tbl-header",style:{minWidth:60,background:"#e3f6ff"},children:"diff Amt"}),e.jsx("th",{className:"tbl-header",style:{minWidth:50,background:"#e3f6ff"},children:"diff %"}),e.jsx("th",{className:"tbl-header",style:{minWidth:60,background:"#e3f6ff"},children:"PBMD"}),e.jsx("th",{className:"tbl-header",style:{minWidth:60,background:"#e3f6ff"},children:"Adj Value"}),Ae.map(n=>e.jsx("th",{className:"tbl-header",style:{minWidth:70,background:"#faebd7"},children:n},n))]})]}),e.jsx("tbody",{children:r.map(n=>re.map((p,S)=>e.jsx(ot,{part:n,costItem:p,idx:S,selectedPeriod:O,comparisonPeriod:h,calculateCostValues:N,calculateDiff:R,getDisplayValues:E,handleCellChange:T,analysisData:B},`${n.part_no}-${p}`)))})]})})}function lt(){const[t,r]=u.useState([]),[a,o]=u.useState("2025-02"),[l,s]=u.useState("2024-08"),[d,i]=u.useState({}),[f,x]=u.useState({partNo:!1,importer:!1,category:!1}),[c,m]=u.useState([]),[b,O]=u.useState([]),[h,N]=u.useState([]);u.useEffect(()=>{(async()=>{const g="/finance-dashboard/msp.json";try{const U=await(await fetch(g)).json();r(U.items||[]),m(Array.from(new Set(U.items.map(k=>k.part_no)))),O(Array.from(new Set(U.items.map(k=>k.importer)))),N(Array.from(new Set(U.items.map(k=>k.category))))}catch(F){console.error("Failed to load msp.json:",F)}})()},[]);const R=u.useCallback((A,g,F,U)=>{const k=Ie(A,g,F);i(G=>({...G,[k]:U}))},[]),E=u.useCallback((A,g)=>at(A,g,d),[d]),T=u.useMemo(()=>{const A=new Set;return t.forEach(g=>{g.months&&Object.keys(g.months).forEach(F=>A.add(F))}),Array.from(A).sort().reverse()},[t]),B=u.useMemo(()=>Array.from(new Set(t.map(A=>A.part_no))),[t]),n=u.useMemo(()=>Array.from(new Set(t.map(A=>A.importer))),[t]),p=u.useMemo(()=>Array.from(new Set(t.map(A=>A.category))),[t]),S=u.useMemo(()=>t.filter(A=>c.includes(A.part_no)&&b.includes(A.importer)&&h.includes(A.category)),[t,c,b,h]),v=u.useCallback(A=>{m(A),x(g=>({...g,partNo:!1}))},[]),P=u.useCallback(A=>{O(A),x(g=>({...g,importer:!1}))},[]),I=u.useCallback(A=>{N(A),x(g=>({...g,category:!1}))},[]),j=u.useCallback(A=>{x(g=>({...g,[A]:!g[A]}))},[]);return e.jsxs("div",{style:{background:"#fff"},children:[e.jsx(Xe,{selectedPeriod:a,comparisonPeriod:l,availablePeriods:T,onPeriodChange:o,onComparisonPeriodChange:s}),e.jsx(it,{filteredMspData:S,filterStates:f,toggleFilter:j,uniquePartNos:B,uniqueImporters:n,uniqueCategories:p,filteredPartNos:c,filteredImporters:b,filteredCategories:h,onApplyFilter:v,onApplyImporterFilter:P,onApplyCategoryFilter:I,selectedPeriod:a,comparisonPeriod:l,calculateCostValues:rt,calculateDiff:et,getDisplayValues:E,handleCellChange:R,analysisData:d})]})}const we=[{partNo:"51011-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"51012-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"51201-KK010",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.1",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51205-KK010",partName:"AIR CLEANER ASSY",supplier:"DENSO CORPORATION",category:"ENGINE",status:"Active"},{partNo:"51206-KK020",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.6",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51230-KK060",partName:"CROSSMEMBER ASSY, FRAME, NO.3",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"53301-0K150",partName:"HOOD SUB-ASSY",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"53801-0K080",partName:"FENDER SUB-ASSY, FR RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"53802-0K080",partName:"FENDER SUB-ASSY, FR LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57403-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57404-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"51204-KK070",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.4",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"480680D240",partName:"ARM SUB-ASSY, SUSPENSION LWR RH W/BUSH",supplier:"TOYOTA MOTOR CORPORATION",category:"SUSPENSION",status:"Active"},{partNo:"480690D240",partName:"ARM SUB-ASSY, SUSPENSION LWR LH W/BUSH",supplier:"TOYOTA MOTOR CORPORATION",category:"SUSPENSION",status:"Active"},{partNo:"51209KK010",partName:"CROSSMEMBER SUB-ASSY, FRAME, RR",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51230KK070",partName:"CROSSMEMBER ASSY, FRAME, NO.3",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"55101KK010",partName:"PANEL SUB-ASSY, DASH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57401KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57402KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"610330K050",partName:"REINFORCE SUB-ASSY, BACK DOOR OPG SI, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"610340K050",partName:"REINFORCE SUB-ASSY, BACK DOOR OPG SI, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"617050K100",partName:"FRAME SUB-ASSY, BACK DOOR OPG SI, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"617060K100",partName:"FRAME SUB-ASSY, BACK DOOR OPG SI, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"480680K100",partName:"ARM SUB-ASSY, SUSPENSION LWR RH W/BUSH",supplier:"TOYOTA MOTOR CORPORATION",category:"SUSPENSION",status:"Active"},{partNo:"480690K100",partName:"ARM SUB-ASSY, SUSPENSION LWR LH W/BUSH",supplier:"TOYOTA MOTOR CORPORATION",category:"SUSPENSION",status:"Active"},{partNo:"486100K100",partName:"ARM ASSY, SUSPENSION, UPR RH",supplier:"TOYOTA MOTOR CORPORATION",category:"SUSPENSION",status:"Active"},{partNo:"486300K100",partName:"ARM ASSY, SUSPENSION, UPR LH",supplier:"TOYOTA MOTOR CORPORATION",category:"SUSPENSION",status:"Active"},{partNo:"51011KK040",partName:"RAIL SUB-ASSY, FRAME SIDE, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51012KK040",partName:"RAIL SUB-ASSY, FRAME SIDE, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51201KK020",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.1",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51202KK010",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.2",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51204KK060",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.4",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51204KK080",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.4",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51205KK050",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.5",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51230KK010",partName:"CROSSMEMBER ASSY, FRAME, NO.3",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"51230KK040",partName:"CROSSMEMBER ASSY, FRAME, NO.3",supplier:"TOYOTA MOTOR CORPORATION",category:"CHASSIS",status:"Active"},{partNo:"53301KK031",partName:"HOOD SUB-ASSY",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"53801KK020",partName:"FENDER SUB-ASSY, FR RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"53802KK020",partName:"FENDER SUB-ASSY, FR LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"61705KK010",partName:"FRAME SUB-ASSY, BACK DOOR OPG SI, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"61706KK011",partName:"FRAME SUB-ASSY, BACK DOOR OPG SI, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67001KK010",partName:"PANEL SUB-ASSY, FR DOOR, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67002KK010",partName:"PANEL SUB-ASSY, FR DOOR, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67003KK030",partName:"PANEL SUB-ASSY, RR DOOR, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67004KK030",partName:"PANEL SUB-ASSY, RR DOOR, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67005KK010",partName:"PANEL SUB-ASSY, BACK DOOR",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67005KK070",partName:"PANEL SUB-ASSY, BACK DOOR",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"432100KB82",partName:"KNUCKLE ASSY, STEERING RH W/DISC BRAKE",supplier:"TOYOTA MOTOR CORPORATION",category:"STEERING",status:"Active"},{partNo:"432100KB92",partName:"KNUCKLE ASSY, STEERING RH W/DISC BRAKE",supplier:"TOYOTA MOTOR CORPORATION",category:"STEERING",status:"Active"},{partNo:"432200KB82",partName:"KNUCKLE ASSY, STEERING LH W/DISC BRAKE",supplier:"TOYOTA MOTOR CORPORATION",category:"STEERING",status:"Active"},{partNo:"432200KB92",partName:"KNUCKLE ASSY, STEERING LH W/DISC BRAKE",supplier:"TOYOTA MOTOR CORPORATION",category:"STEERING",status:"Active"},{partNo:"43210BZ061",partName:"KNUCKLE ASSY, STEERING RH W/DISC BRAKE",supplier:"TOYOTA MOTOR CORPORATION",category:"STEERING",status:"Active"},{partNo:"43220BZ061",partName:"KNUCKLE ASSY, STEERING LH W/DISC BRAKE",supplier:"TOYOTA MOTOR CORPORATION",category:"STEERING",status:"Active"},{partNo:"57101BZ690",partName:"MEMBER SUB-ASSY, FR SIDE, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57102BZ770",partName:"MEMBER SUB-ASSY, FR SIDE, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57402BZ491",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57607BZ100",partName:"MEMBER SUB-ASSY, RR FLOOR CROSS, NO.3",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"53301BZ420",partName:"HOOD SUB-ASSY",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57401BZ491",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57401BZ901",partName:"MEMBER S/A, FLOOR SIDE, INN RH W/O R/F",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"57605BZ210",partName:"MEMBER SUB-ASSY, RR FLOOR CROSS, NO.1",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67001BZ710",partName:"PANEL SUB-ASSY, FR DOOR, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67002BZ710",partName:"PANEL SUB-ASSY, FR DOOR, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67003BZ720",partName:"PANEL SUB-ASSY, RR DOOR, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67003BZ740",partName:"PANEL SUB-ASSY, RR DOOR, RH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67004BZ720",partName:"PANEL SUB-ASSY, RR DOOR, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67004BZ740",partName:"PANEL SUB-ASSY, RR DOOR, LH",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67005BZB80",partName:"PANEL SUB-ASSY, BACK DOOR",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"67005BZG60",partName:"PANEL SUB-ASSY, BACK DOOR",supplier:"TOYOTA MOTOR CORPORATION",category:"BODY",status:"Active"},{partNo:"CMD-001",partName:"RAIL ASSEMBLY RIGHT SIDE",supplier:"CMD SYSTEM",category:"BODY",status:"Active"},{partNo:"CMD-002",partName:"RAIL ASSEMBLY LEFT SIDE",supplier:"CMD SYSTEM",category:"BODY",status:"Active"},{partNo:"CMD-007",partName:"HOOD ASSEMBLY",supplier:"CMD SYSTEM",category:"BODY",status:"Active"},{partNo:"SAP-A001",partName:"FRAME CROSSMEMBER TYPE A",supplier:"SAP SYSTEM",category:"CHASSIS",status:"Active"},{partNo:"IFAST-B123",partName:"AIR FILTER ASSEMBLY",supplier:"IFAST SYSTEM",category:"ENGINE",status:"Active"}],nt=t=>we.find(r=>r.partNo===t),je=t=>we.some(r=>r.partNo===t),ne=t=>{const r=nt(t);return r?r.partName:""},Ne=[{id:1,leftPart:"51011-KK050",leftPartName:"RAIL SUB-ASSY, FRAME SIDE, RH",rightPart:"CMD-001",rightPartName:"RAIL ASSEMBLY RIGHT SIDE",status:"Active",createdDate:"2025-10-20",lastModified:"2025-10-22"},{id:2,leftPart:"51012-KK050",leftPartName:"RAIL SUB-ASSY, FRAME SIDE, LH",rightPart:"CMD-002",rightPartName:"RAIL ASSEMBLY LEFT SIDE",status:"Active",createdDate:"2025-10-20",lastModified:"2025-10-22"},{id:3,leftPart:"51201-KK010",leftPartName:"CROSSMEMBER SUB-ASSY, FRAME, NO.1",rightPart:"SAP-A001",rightPartName:"FRAME CROSSMEMBER TYPE A",status:"Active",createdDate:"2025-10-19",lastModified:"2025-10-21"},{id:4,leftPart:"51205-KK010",leftPartName:"AIR CLEANER ASSY",rightPart:"IFAST-B123",rightPartName:"AIR FILTER ASSEMBLY",status:"Active",createdDate:"2025-10-18",lastModified:"2025-10-20"},{id:5,leftPart:"51206-KK020",leftPartName:"CROSSMEMBER SUB-ASSY, FRAME, NO.6",rightPart:"",rightPartName:"",status:"Pending",createdDate:"2025-10-22",lastModified:"2025-10-22"},{id:6,leftPart:"51230-KK060",leftPartName:"CROSSMEMBER ASSY, FRAME, NO.3",rightPart:"",rightPartName:"",status:"Pending",createdDate:"2025-10-22",lastModified:"2025-10-22"},{id:7,leftPart:"53301-0K150",leftPartName:"HOOD SUB-ASSY",rightPart:"CMD-007",rightPartName:"HOOD ASSEMBLY",status:"Active",createdDate:"2025-10-17",lastModified:"2025-10-19"},{id:8,leftPart:"53801-0K080",leftPartName:"FENDER SUB-ASSY, FR RH",rightPart:"",rightPartName:"",status:"Pending",createdDate:"2025-10-22",lastModified:"2025-10-22"}],dt=(t,r=null)=>Ne.some(a=>a.id!==r&&a.leftPart===t),ct=(t,r=null)=>Ne.some(a=>a.id!==r&&a.rightPart===t);function pt(){const t=ae(),[r,a]=u.useState([...Ne]),[o,l]=u.useState(null),[s,d]=u.useState(""),[i,f]=u.useState(""),[x,c]=u.useState(""),[m,b]=u.useState(""),[O,h]=u.useState({}),N=(p,S,v=null)=>{const P={};return p&&!je(p)&&(P.leftPart=`Part number "${p}" not found in master data`),S&&!je(S)&&(P.rightPart=`Part number "${S}" not found in master data`),p&&dt(p,v)&&(P.leftPart=`Part number "${p}" is already used as LEFT part in another pairing`),S&&ct(S,v)&&(P.rightPart=`Part number "${S}" is already used as RIGHT part in another pairing`),P},R=(p,S,v,P,I)=>{l(p),d(S),f(v),c(P),b(I),h({})},E=p=>{const S=N(s,x,p);if(Object.keys(S).length>0){h(S);return}const v=i||ne(s),P=m||ne(x);a(r.map(I=>I.id===p?{...I,leftPart:s,leftPartName:v,rightPart:x,rightPartName:P,status:s&&x?"Active":"Pending",lastModified:new Date().toISOString().split("T")[0]}:I)),l(null),d(""),f(""),c(""),b(""),h({})},T=()=>{l(null),d(""),f(""),c(""),b(""),h({})},B=()=>{if(o!==null){alert("Please save or cancel the current edit before adding a new record.");return}const p=Math.max(...r.map(v=>v.id))+1,S={id:p,leftPart:"",leftPartName:"",rightPart:"",rightPartName:"",status:"Pending",createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};a([S,...r]),l(p),d(""),f(""),c(""),b(""),h({})},n=p=>{window.confirm("Are you sure you want to delete this pairing?")&&a(r.filter(S=>S.id!==p))};return e.jsx("div",{style:{padding:20},children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{margin:0,fontSize:28,fontWeight:600},children:"Part Pairing Management"}),e.jsx("p",{style:{margin:"6px 0 0",color:"#6b7280",fontSize:14},children:"Manage part number mappings between different systems (CMD, SAP, IFAST)"})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("button",{onClick:B,disabled:o!==null,className:"btn btn-ghost",style:{opacity:o!==null?.5:1,cursor:o!==null?"not-allowed":"pointer"},title:o!==null?"Save or cancel current edit before adding new record":"Add new part pairing",children:"+ Add New"}),e.jsx("button",{className:"btn btn-ghost",onClick:()=>t(-1),children:"← Back"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>alert("Save changes (preview)"),children:"Save Changes"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:16,marginBottom:24},children:[e.jsxs("div",{style:Pe,children:[e.jsx("div",{style:Te,children:r.filter(p=>p.status==="Active").length}),e.jsx("div",{style:Me,children:"Active Pairings"})]}),e.jsxs("div",{style:Pe,children:[e.jsx("div",{style:Te,children:r.length}),e.jsx("div",{style:Me,children:"Total Parts"})]})]}),e.jsx("div",{style:{border:"1px solid rgba(0,0,0,0.1)",borderRadius:8,overflow:"hidden",backgroundColor:"white"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[e.jsx("th",{style:de,children:"Rec No"}),e.jsx("th",{style:de,children:"LEFT Part"}),e.jsx("th",{style:de,children:"RIGHT Part"}),e.jsx("th",{style:de,children:"Actions"})]})}),e.jsx("tbody",{children:r.map((p,S)=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx("td",{style:ce,children:e.jsx("div",{style:{fontWeight:500,fontSize:13,color:"#374151",textAlign:"center"},children:S+1})}),e.jsx("td",{style:ce,children:o===p.id?e.jsxs("div",{children:[e.jsx("input",{type:"text",value:s,onChange:v=>{d(v.target.value);const P=ne(v.target.value);P&&f(P),O.leftPart&&h(I=>({...I,leftPart:null}))},style:{width:"100%",padding:"4px 6px",border:O.leftPart?"1px solid #ef4444":"1px solid #007bff",borderRadius:4,fontFamily:"monospace",fontSize:12,marginBottom:4},placeholder:"Part Number"}),O.leftPart&&e.jsx("div",{style:{color:"#ef4444",fontSize:10,marginBottom:4,lineHeight:1.2},children:O.leftPart}),e.jsx("input",{type:"text",value:i,readOnly:!0,tabIndex:"-1",style:{width:"100%",padding:"4px 6px",border:"1px solid #d1d5db",borderRadius:4,fontSize:11,backgroundColor:"#f9fafb",color:"#6b7280"},placeholder:"Part Name (auto-filled)"})]}):e.jsxs("div",{children:[e.jsx("div",{style:{fontFamily:"monospace",fontWeight:500,fontSize:13},children:p.leftPart}),e.jsx("div",{style:{fontSize:11,color:"#6b7280",marginTop:2},children:p.leftPartName})]})}),e.jsx("td",{style:ce,children:o===p.id?e.jsxs("div",{children:[e.jsx("input",{type:"text",value:x,onChange:v=>{c(v.target.value);const P=ne(v.target.value);P&&b(P),O.rightPart&&h(I=>({...I,rightPart:null}))},style:{width:"100%",padding:"4px 6px",border:O.rightPart?"1px solid #ef4444":"1px solid #007bff",borderRadius:4,fontFamily:"monospace",fontSize:12,marginBottom:4},placeholder:"Part Number"}),O.rightPart&&e.jsx("div",{style:{color:"#ef4444",fontSize:10,marginBottom:4,lineHeight:1.2},children:O.rightPart}),e.jsx("input",{type:"text",value:m,readOnly:!0,tabIndex:"-1",style:{width:"100%",padding:"4px 6px",border:"1px solid #d1d5db",borderRadius:4,fontSize:11,backgroundColor:"#f9fafb",color:"#6b7280"},placeholder:"Part Name (auto-filled)"})]}):e.jsxs("div",{children:[e.jsx("div",{style:{fontFamily:"monospace",fontWeight:500,fontSize:13,color:p.rightPart?"#000":"#999"},children:p.rightPart||"Not assigned"}),e.jsx("div",{style:{fontSize:11,color:"#6b7280",marginTop:2},children:p.rightPartName||(p.rightPart?"Unknown part name":"Not assigned")})]})}),e.jsx("td",{style:ce,children:e.jsx("div",{style:{display:"flex",gap:4},children:o===p.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>E(p.id),style:pe("#10b981"),children:"Save"}),e.jsx("button",{onClick:T,style:pe("#6b7280"),children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>R(p.id,p.leftPart,p.leftPartName,p.rightPart,p.rightPartName),style:pe("#3b82f6"),children:"Edit"}),e.jsx("button",{onClick:()=>n(p.id),style:pe("#ef4444"),children:"Delete"})]})})})]},p.id))})]})}),e.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:13,color:"#6b7280"},children:[e.jsxs("div",{children:["Showing ",r.length," part pairings"]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>alert("Export (preview)"),children:"Export"}),e.jsx("button",{className:"btn btn-ghost",onClick:()=>alert("Import (preview)"),children:"Import"})]})]})]})})}const Pe={padding:16,backgroundColor:"white",border:"1px solid rgba(0,0,0,0.1)",borderRadius:8,textAlign:"center"},Te={fontSize:24,fontWeight:600,color:"#1f2937"},Me={fontSize:12,color:"#6b7280",marginTop:4},de={padding:"12px 16px",textAlign:"left",fontSize:12,fontWeight:600,color:"#374151",borderBottom:"1px solid rgba(0,0,0,0.1)"},ce={padding:"12px 16px",fontSize:13,color:"#1f2937"},pe=t=>({padding:"4px 8px",fontSize:11,border:`1px solid ${t}`,borderRadius:4,backgroundColor:"white",color:t,cursor:"pointer"}),Ee={"Aug-25":[{no:1,partNo:"51011-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, RH",localOH:"",localOHPrev:"",toolingOH:333.082,toolingOHPrev:288.52,rawMaterial:82,rawMaterialPrev:75.5,labor:784.238,laborPrev:720.8,fohFix:214.761,fohFixPrev:198.2,fohVar:120.351,fohVarPrev:110.9,unfinishDepre:41.853,unfinishDeprePrev:38.6,totalProcessCost:94.069,exclusiveInvestment:27.474,prevPeriod:1373.273,totalCost:1615.909,diff:17.66,remark:"RH - LH different",plant:"4350"},{no:2,partNo:"51012-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, LH",localOH:"",localOHPrev:"",toolingOH:342.265,toolingOHPrev:312.45,rawMaterial:567,rawMaterialPrev:522.1,labor:784.238,laborPrev:722.5,fohFix:213.569,fohFixPrev:196.8,fohVar:120.351,fohVarPrev:111,unfinishDepre:41.853,unfinishDeprePrev:38.5,totalProcessCost:94.069,exclusiveInvestment:27.474,prevPeriod:1900.53,totalCost:1624.385,diff:-14.53,remark:"",plant:"4350"},{no:3,partNo:"51201-KK010",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.1",localOH:"164.125",localOHPrev:"148.750",toolingOH:6.442,toolingOHPrev:5.89,rawMaterial:113.594,rawMaterialPrev:104.8,labor:75.767,laborPrev:69.9,fohFix:213.129,fohFixPrev:196.5,fohVar:80.827,fohVarPrev:74.6,unfinishDepre:184.761,unfinishDeprePrev:170.4,totalProcessCost:554.483,exclusiveInvestment:8.69,prevPeriod:778.41,totalCost:864.932,diff:11.12,remark:"",plant:"4360"},{no:4,partNo:"51205-KK010",partName:"AIR CLEANER ASSY",localOH:"98.342",localOHPrev:"89.420",toolingOH:1.256,toolingOHPrev:1.18,rawMaterial:69.773,rawMaterialPrev:64.4,labor:15.289,laborPrev:14.1,fohFix:9.018,fohFixPrev:8.3,fohVar:2.091,fohVarPrev:1.9,unfinishDepre:3.245,unfinishDeprePrev:3,totalProcessCost:29.643,exclusiveInvestment:2.04,prevPeriod:170.551,totalCost:155.047,diff:-9.1,remark:"",plant:"4350"},{no:5,partNo:"51206-KK020",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.6",localOH:"279.435",localOHPrev:"251.490",toolingOH:7.689,toolingOHPrev:7.12,rawMaterial:0,rawMaterialPrev:0,labor:51.919,laborPrev:47.9,fohFix:15.604,fohFixPrev:14.4,fohVar:6.074,fohVarPrev:5.6,unfinishDepre:13.963,unfinishDeprePrev:12.9,totalProcessCost:87.56,exclusiveInvestment:4.728,prevPeriod:341.272,totalCost:379.413,diff:11.18,remark:"",plant:"4350"},{no:6,partNo:"51230-KK060",partName:"CROSSMEMBER ASSY, FRAME, NO.3",localOH:"320.749",localOHPrev:"295.680",toolingOH:2.792,toolingOHPrev:2.59,rawMaterial:0,rawMaterialPrev:0,labor:61.617,laborPrev:56.8,fohFix:9.984,fohFixPrev:9.2,fohVar:3.886,fohVarPrev:3.6,unfinishDepre:8.933,unfinishDeprePrev:8.2,totalProcessCost:84.42,exclusiveInvestment:5.195,prevPeriod:454.471,totalCost:413.155,diff:-9.1,remark:"",plant:"4350"},{no:7,partNo:"53301-0K150",partName:"HOOD SUB-ASSY",localOH:"98.27",toolingOH:3.541,rawMaterial:342.302,rawMaterialPrev:315.8,labor:25.025,laborPrev:23.1,fohFix:12.16,fohFixPrev:11.2,fohVar:10.429,fohVarPrev:9.6,unfinishDepre:13.26,unfinishDeprePrev:12.2,totalProcessCost:60.873,exclusiveInvestment:19.487,prevPeriod:446.025,totalCost:524.472,diff:17.58,remark:"",plant:"4360"},{no:8,partNo:"53801-0K080",partName:"FENDER SUB-ASSY, FR RH",localOH:"7.6",toolingOH:0,rawMaterial:130.78,rawMaterialPrev:120.7,labor:18.909,laborPrev:17.4,fohFix:6.325,fohFixPrev:5.8,fohVar:5.492,fohVarPrev:5.1,unfinishDepre:7.399,unfinishDeprePrev:6.8,totalProcessCost:38.125,exclusiveInvestment:63.094,prevPeriod:263.659,totalCost:239.599,diff:-9.13,remark:"",plant:"4360"},{no:9,partNo:"53802-0K080",partName:"FENDER SUB-ASSY, FR LH",localOH:"7.6",toolingOH:0,rawMaterial:130.78,rawMaterialPrev:120.7,labor:18.792,laborPrev:17.3,fohFix:6.358,fohFixPrev:5.9,fohVar:5.492,fohVarPrev:5.1,unfinishDepre:7.399,unfinishDeprePrev:6.8,totalProcessCost:38.041,exclusiveInvestment:63.094,prevPeriod:203.612,totalCost:239.515,diff:17.64,remark:"",plant:"4360"},{no:10,partNo:"57403-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR RH",localOH:"12.02",toolingOH:0,rawMaterial:85.187,rawMaterialPrev:78.6,labor:10.854,laborPrev:10,fohFix:6.9,fohFixPrev:6.4,fohVar:3.027,fohVarPrev:2.8,unfinishDepre:1.307,unfinishDeprePrev:1.2,totalProcessCost:22.088,exclusiveInvestment:3.739,prevPeriod:135.337,totalCost:123.034,diff:-9.1,remark:"",plant:"4350"},{no:11,partNo:"57404-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR LH",localOH:"12.2",toolingOH:0,rawMaterial:85.187,rawMaterialPrev:78.6,labor:10.854,laborPrev:10,fohFix:6.9,fohFixPrev:6.4,fohVar:3.027,fohVarPrev:2.8,unfinishDepre:1.307,unfinishDeprePrev:1.2,totalProcessCost:22.088,exclusiveInvestment:3.739,prevPeriod:104.732,totalCost:123.214,diff:17.65,remark:"",plant:"4350"},{no:12,partNo:"51204-KK070",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.4",localOH:"240.051",toolingOH:4.047,rawMaterial:0,rawMaterialPrev:0,labor:29.459,laborPrev:27.2,fohFix:10.03,fohFixPrev:9.3,fohVar:3.904,fohVarPrev:3.6,unfinishDepre:8.975,unfinishDeprePrev:8.3,totalProcessCost:52.368,exclusiveInvestment:4.076,prevPeriod:331.313,totalCost:301.194,diff:-9.1,remark:"",plant:""}],"Jul-25":[{no:1,partNo:"51011-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, RH",localOH:"",toolingOH:325.445,rawMaterial:79,labor:760.125,fohFix:208.392,fohVar:116.741,unfinishDepre:40.58,totalProcessCost:91.306,exclusiveInvestment:26.64,prevPeriod:1334.156,totalCost:1569.595,diff:15.43,remark:"RH - LH different",plant:"4350"},{no:2,partNo:"51012-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, LH",localOH:"",toolingOH:334.102,rawMaterial:550,labor:760.125,fohFix:207.263,fohVar:116.741,unfinishDepre:40.58,totalProcessCost:91.306,exclusiveInvestment:26.64,prevPeriod:1842.515,totalCost:1574.967,diff:-14.53,remark:"",plant:"4350"},{no:3,partNo:"51201-KK010",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.1",localOH:"159.801",toolingOH:6.262,rawMaterial:110.398,labor:73.645,fohFix:207.255,fohVar:78.603,unfinishDepre:179.621,totalProcessCost:539.269,exclusiveInvestment:8.456,prevPeriod:756.929,totalCost:841.027,diff:11.12,remark:"",plant:"4360"},{no:4,partNo:"51205-KK010",partName:"AIR CLEANER ASSY",localOH:"95.653",toolingOH:1.221,rawMaterial:67.832,labor:14.831,fohFix:8.767,fohVar:2.033,unfinishDepre:3.154,totalProcessCost:28.785,exclusiveInvestment:1.983,prevPeriod:165.836,totalCost:150.76,diff:-9.1,remark:"",plant:"4350"},{no:5,partNo:"51206-KK020",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.6",localOH:"271.694",toolingOH:7.481,rawMaterial:0,labor:50.484,fohFix:15.187,fohVar:5.912,unfinishDepre:13.581,totalProcessCost:85.164,exclusiveInvestment:4.599,prevPeriod:331.837,totalCost:368.708,diff:11.18,remark:"",plant:"4350"},{no:6,partNo:"51230-KK060",partName:"CROSSMEMBER ASSY, FRAME, NO.3",localOH:"312.129",toolingOH:2.716,rawMaterial:0,labor:59.97,fohFix:9.713,fohVar:3.781,unfinishDepre:8.695,totalProcessCost:82.159,exclusiveInvestment:5.054,prevPeriod:442.259,totalCost:401.854,diff:-9.1,remark:"",plant:"4350"},{no:7,partNo:"53301-0K150",partName:"HOOD SUB-ASSY",localOH:"95.582",toolingOH:3.445,rawMaterial:332.814,labor:24.374,fohFix:11.836,fohVar:10.157,unfinishDepre:12.903,totalProcessCost:59.27,exclusiveInvestment:18.964,prevPeriod:434.024,totalCost:510.445,diff:17.58,remark:"",plant:"4360"},{no:8,partNo:"53801-0K080",partName:"FENDER SUB-ASSY, FR RH",localOH:"7.4",toolingOH:0,rawMaterial:127.259,labor:18.404,fohFix:6.156,fohVar:5.343,unfinishDepre:7.198,totalProcessCost:37.101,exclusiveInvestment:61.391,prevPeriod:256.612,totalCost:233.285,diff:-9.13,remark:"",plant:"4360"},{no:9,partNo:"53802-0K080",partName:"FENDER SUB-ASSY, FR LH",localOH:"7.4",toolingOH:0,rawMaterial:127.259,labor:18.291,fohFix:6.188,fohVar:5.343,unfinishDepre:7.198,totalProcessCost:37.02,exclusiveInvestment:61.391,prevPeriod:198.311,totalCost:233.201,diff:17.64,remark:"",plant:"4360"},{no:10,partNo:"57403-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR RH",localOH:"11.70",toolingOH:0,rawMaterial:82.832,labor:10.572,fohFix:6.717,fohVar:2.945,unfinishDepre:1.273,totalProcessCost:21.507,exclusiveInvestment:3.64,prevPeriod:131.778,totalCost:119.798,diff:-9.1,remark:"",plant:"4350"},{no:11,partNo:"57404-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR LH",localOH:"11.87",toolingOH:0,rawMaterial:82.832,labor:10.572,fohFix:6.717,fohVar:2.945,unfinishDepre:1.273,totalProcessCost:21.507,exclusiveInvestment:3.64,prevPeriod:101.935,totalCost:119.879,diff:17.65,remark:"",plant:"4350"},{no:12,partNo:"51204-KK070",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.4",localOH:"233.450",toolingOH:3.936,rawMaterial:0,labor:28.677,fohFix:9.759,fohVar:3.801,unfinishDepre:8.734,totalProcessCost:50.971,exclusiveInvestment:3.966,prevPeriod:322.383,totalCost:292.984,diff:-9.1,remark:"",plant:""}],"Jun-25":[{no:1,partNo:"51011-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, RH",localOH:"",toolingOH:318.234,rawMaterial:76,labor:742.89,fohFix:203.156,fohVar:113.925,unfinishDepre:39.612,totalProcessCost:89.145,exclusiveInvestment:26.001,prevPeriod:1298.923,totalCost:1527.556,diff:13.89,remark:"RH - LH different",plant:"4350"},{no:2,partNo:"51012-KK050",partName:"RAIL SUB-ASSY, FRAME SIDE, LH",localOH:"",toolingOH:326.542,rawMaterial:535,labor:742.89,fohFix:202.098,fohVar:113.925,unfinishDepre:39.612,totalProcessCost:89.145,exclusiveInvestment:26.001,prevPeriod:1797.015,totalCost:1536.434,diff:-14.53,remark:"",plant:"4350"},{no:3,partNo:"51201-KK010",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.1",localOH:"156.240",toolingOH:6.12,rawMaterial:107.882,labor:71.982,fohFix:202.535,fohVar:76.784,unfinishDepre:175.603,totalProcessCost:526.904,exclusiveInvestment:8.265,prevPeriod:739.291,totalCost:821.434,diff:11.12,remark:"",plant:"4360"},{no:4,partNo:"51205-KK010",partName:"AIR CLEANER ASSY",localOH:"93.505",toolingOH:1.193,rawMaterial:66.286,labor:14.508,fohFix:8.567,fohVar:1.988,unfinishDepre:3.085,totalProcessCost:28.148,exclusiveInvestment:1.939,prevPeriod:162.14,totalCost:147.4,diff:-9.1,remark:"",plant:"4350"},{no:5,partNo:"51206-KK020",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.6",localOH:"265.555",toolingOH:7.313,rawMaterial:0,labor:49.374,fohFix:14.834,fohVar:5.776,unfinishDepre:13.273,totalProcessCost:83.257,exclusiveInvestment:4.495,prevPeriod:324.239,totalCost:360.265,diff:11.18,remark:"",plant:"4350"},{no:6,partNo:"51230-KK060",partName:"CROSSMEMBER ASSY, FRAME, NO.3",localOH:"304.931",toolingOH:2.655,rawMaterial:0,labor:58.645,fohFix:9.495,fohVar:3.696,unfinishDepre:8.5,totalProcessCost:80.336,exclusiveInvestment:4.943,prevPeriod:432.427,totalCost:393.115,diff:-9.1,remark:"",plant:"4350"},{no:7,partNo:"53301-0K150",partName:"HOOD SUB-ASSY",localOH:"93.475",toolingOH:3.369,rawMaterial:325.374,labor:23.844,fohFix:11.576,fohVar:9.932,unfinishDepre:12.618,totalProcessCost:57.97,exclusiveInvestment:18.548,prevPeriod:424.371,totalCost:499.26,diff:17.58,remark:"",plant:"4360"},{no:8,partNo:"53801-0K080",partName:"FENDER SUB-ASSY, FR RH",localOH:"7.22",toolingOH:0,rawMaterial:124.422,labor:17.998,fohFix:6.021,fohVar:5.225,unfinishDepre:7.04,totalProcessCost:36.284,exclusiveInvestment:60.055,prevPeriod:251.155,totalCost:228.323,diff:-9.13,remark:"",plant:"4360"},{no:9,partNo:"53802-0K080",partName:"FENDER SUB-ASSY, FR LH",localOH:"7.22",toolingOH:0,rawMaterial:124.422,labor:17.889,fohFix:6.053,fohVar:5.225,unfinishDepre:7.04,totalProcessCost:36.207,exclusiveInvestment:60.055,prevPeriod:193.995,totalCost:228.246,diff:17.64,remark:"",plant:"4360"},{no:10,partNo:"57403-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR RH",localOH:"11.43",toolingOH:0,rawMaterial:81.023,labor:10.337,fohFix:6.567,fohVar:2.88,unfinishDepre:1.245,totalProcessCost:21.029,exclusiveInvestment:3.558,prevPeriod:128.826,totalCost:117.115,diff:-9.1,remark:"",plant:"4350"},{no:11,partNo:"57404-KK010",partName:"MEMBER SUB-ASSY, FLOOR SIDE, INNER RR LH",localOH:"11.60",toolingOH:0,rawMaterial:81.023,labor:10.337,fohFix:6.567,fohVar:2.88,unfinishDepre:1.245,totalProcessCost:21.029,exclusiveInvestment:3.558,prevPeriod:99.614,totalCost:117.194,diff:17.65,remark:"",plant:"4350"},{no:12,partNo:"51204-KK070",partName:"CROSSMEMBER SUB-ASSY, FRAME, NO.4",localOH:"228.249",toolingOH:3.848,rawMaterial:0,labor:28.037,fohFix:9.54,fohVar:3.717,unfinishDepre:8.544,totalProcessCost:49.838,exclusiveInvestment:3.878,prevPeriod:315.169,totalCost:286.517,diff:-9.1,remark:"",plant:""}]},D=t=>t==null?0:typeof t=="number"?t:typeof t=="string"?t.trim()===""?0:parseFloat(t.replace(/,/g,""))||0:0,Y=t=>t==null||t===""?"-":typeof t=="number"?t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):t,q=t=>{if(t==null||t==="")return"-";if(typeof t=="number"){const r=t.toFixed(2);return t>=0?`+${r}%`:`${r}%`}return t},L=(t,r)=>{if(t==null||r==null||r===0)return null;const a=typeof t=="string"?parseFloat(t.replace(/,/g,"")):t,o=typeof r=="string"?parseFloat(r.replace(/,/g,"")):r;return isNaN(a)||isNaN(o)||o===0?null:(a-o)/o*100},xt=()=>{const[t,r]=u.useState([]),[a,o]=u.useState(""),[l,s]=u.useState("");return{rows:t,comparedMonth1:a,comparedMonth2:l,handleCompare:(i,f)=>{const x=Ee[i],m=Ee[f].map((b,O)=>{const h=x.find(fe=>fe.partNo===b.partNo);if(!h)return{...b,no:O+1,prevPeriod:0,diff:100,localOHPrev:0,toolingOHPrev:0,rawMaterialPrev:0,laborPrev:0,fohFixPrev:0,fohVarPrev:0,unfinishDeprePrev:0,fgCostPrev:0,mfgCostPrev:0,sellingPricePrev:0,totalCostPrev:0,totalProcessCost:0,totalProcessCostPrev:0,exclusiveInvestment:0,exclusiveInvestmentPrev:0};const N=D(b.labor),R=D(b.fohFix),E=D(b.fohVar),T=D(b.unfinishDepre),B=D(h.labor),n=D(h.fohFix),p=D(h.fohVar),S=D(h.unfinishDepre),v=D(b.localOH),P=D(b.toolingOH),I=D(b.rawMaterial),j=D(h.localOH),A=D(h.toolingOH),g=D(h.rawMaterial),F=N+R+E+T,U=B+n+p+S,k=v+P+I+F,G=j+A+g+U,me=G===0?100:(k-G)/G*100;return{...b,no:O+1,totalCost:k,diff:me,localOH:v,toolingOH:P,rawMaterial:I,labor:N,fohFix:R,fohVar:E,unfinishDepre:T,localOHPrev:j,toolingOHPrev:A,rawMaterialPrev:g,laborPrev:B,fohFixPrev:n,fohVarPrev:p,unfinishDeprePrev:S,fgCostPrev:D(h.fgCost),mfgCostPrev:D(h.mfgCost),sellingPricePrev:D(h.sellingPrice),totalCostPrev:G,totalProcessCost:F,totalProcessCostPrev:U,exclusiveInvestment:D(b.exclusiveInvestment),exclusiveInvestmentPrev:D(h.exclusiveInvestment)}});r(m),o(i),s(f)},setRows:r}},ht=({selectedMonth:t,setSelectedMonth:r,selectedMonth2:a,setSelectedMonth2:o,handleCompare:l,comparedMonth1:s,comparedMonth2:d,exchangeRates:i})=>{const f=ae(),x={"Aug-25":[],"Jul-25":[],"Jun-25":[]};return e.jsx("div",{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:16},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("button",{className:"btn",onClick:()=>f(-1),style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"8px 12px",fontSize:14,cursor:"pointer",borderRadius:6},children:"← Back"}),e.jsx("h1",{style:{margin:0},children:"Period-over-Period Comparison"})]}),e.jsx("p",{style:{margin:"6px 0 0",color:"#6b7280",fontSize:14},children:"Select two periods to compare the cost differences."})]}),e.jsxs("div",{style:{display:"flex",gap:16,alignItems:"flex-start"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsxs("select",{value:t,onChange:c=>r(c.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)",width:"180px"},children:[e.jsx("option",{value:"",children:"Select Period 1"}),Object.keys(x).map(c=>e.jsx("option",{value:c,children:c},c))]}),e.jsx("input",{type:"text",value:`USD/IDR: ${i[s]||"N/A"}`,readOnly:!0,style:{padding:"6px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)",backgroundColor:"#f8f9fa",color:"#495057",width:"180px",boxSizing:"border-box",fontSize:"13px"}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsxs("select",{value:a,onChange:c=>o(c.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)",width:"180px"},children:[e.jsx("option",{value:"",children:"Select Period 2"}),Object.keys(x).map(c=>e.jsx("option",{value:c,children:c},c))]}),e.jsx("input",{type:"text",value:`USD/IDR: ${i[d]||"N/A"}`,readOnly:!0,style:{padding:"6px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.12)",backgroundColor:"#f8f9fa",color:"#495057",width:"180px",boxSizing:"border-box",fontSize:"13px"}})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"flex-start",paddingTop:0},children:[e.jsx("button",{onClick:()=>l(t,a),disabled:!t||!a,className:"btn btn-primary",children:"Compare"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>alert("Export CSV (preview)"),children:"Export"})]})]})]})})},ut=({currentRecords:t,getDiffStyle:r,handleDetailClick:a,getRemarkValue:o,handleRemarkSave:l,comparedMonth1:s,comparedMonth2:d})=>t.length===0?e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",border:"1px dashed #d1d5db",borderRadius:8,backgroundColor:"#f9fafb",marginTop:20},children:e.jsx("p",{style:{fontSize:14,color:"#6b7280"},children:'Please select two periods and click "Compare" to see the results.'})}):e.jsx("div",{style:{overflow:"auto",border:"1px solid rgba(0,0,0,0.06)",borderRadius:8},children:e.jsxs("table",{style:{borderCollapse:"collapse",minWidth:1440,width:"100%"},children:[e.jsxs("thead",{style:{border:"2px solid #059669"},children:[e.jsxs("tr",{style:{border:"1px solid #059669"},children:[e.jsx("th",{rowSpan:"2",style:{...z("#cccccc"),...M,border:"1px solid #059669"},children:"No."}),e.jsx("th",{rowSpan:"2",style:{...z("#cccccc"),...M,border:"1px solid #059669"},children:"PartNo."}),e.jsx("th",{rowSpan:"2",style:{...z("#cccccc"),...M,border:"1px solid #059669"},children:"PartName"}),e.jsx("th",{colSpan:"3",style:{...z("#dff7e6"),border:"1px solid #059669"},children:"Purchase Part"}),e.jsx("th",{colSpan:"3",style:{...z("#b9faf8"),border:"1px solid #059669"},children:"Raw Material"}),e.jsx("th",{colSpan:"12",style:{...z("#e0aaff"),border:"1px solid #059669"},children:"Processing Cost"}),e.jsx("th",{rowSpan:"2",style:{...z("#e0aaff"),...M,border:"1px solid #059669"},children:"Total Process Cost"}),e.jsx("th",{rowSpan:"2",style:{...z("#dff7e6"),...M,border:"1px solid #059669"},children:"Exclusive Investment"}),e.jsx("th",{rowSpan:"2",style:{...z("#dff7e6"),...M,border:"1px solid #059669"},children:`Total Cost (${s||"P1"})`}),e.jsx("th",{rowSpan:"2",style:{...z("#dff7e6"),...M,border:"1px solid #059669"},children:`Total Cost (${d||"P2"})`})]}),e.jsxs("tr",{style:{background:"#dff7e6",border:"1px solid #059669"},children:[e.jsx("th",{style:{...M,backgroundColor:"#d0f0d2",border:"1px solid #059669"},children:s||"Period 1"}),e.jsx("th",{style:{...M,border:"1px solid #059669"},children:"Tooling OH"}),e.jsx("th",{style:{...M,border:"1px solid #059669"},children:"% Diff"}),e.jsx("th",{style:{...M,backgroundColor:"#a6f6f3",border:"1px solid #059669"},children:s||"Period 1"}),e.jsx("th",{style:{...M,backgroundColor:"#b9faf8",border:"1px solid #059669"},children:d||"Period 2"}),e.jsx("th",{style:{...M,backgroundColor:"#b9faf8",border:"1px solid #059669"},children:"% Diff"}),e.jsx("th",{style:{...M,backgroundColor:"#d89cff",border:"1px solid #059669"},children:s||"Period 1"}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"Labor"}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"% Diff"}),e.jsx("th",{style:{...M,backgroundColor:"#d89cff",border:"1px solid #059669"},children:s||"Period 1"}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"FOH Fixed"}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"% Diff"}),e.jsx("th",{style:{...M,backgroundColor:"#d89cff",border:"1px solid #059669"},children:s||"Period 1"}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"FOH Var"}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"% Diff"}),e.jsx("th",{style:{...M,backgroundColor:"#d89cff",border:"1px solid #059669"},children:s||"Period 1"}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"Unfinish Depre."}),e.jsx("th",{style:{...M,backgroundColor:"#e0aaff",border:"1px solid #059669"},children:"% Diff"})]})]}),e.jsx("tbody",{children:t.map((i,f)=>{const x=f%2===0;return e.jsxs("tr",{style:{borderBottom:"1px solid rgba(0,0,0,0.04)",backgroundColor:x?"#f9fafb":"white"},children:[e.jsx("td",{style:H,children:i.no}),e.jsx("td",{style:H,children:i.partNo}),e.jsx("td",{style:H,children:i.partName}),e.jsx("td",{style:J,children:Y(i.toolingOHPrev)}),e.jsx("td",{style:H,children:Y(i.toolingOH)}),e.jsx("td",{style:r(L(i.toolingOH,i.toolingOHPrev),X),children:q(L(i.toolingOH,i.toolingOHPrev))}),e.jsx("td",{style:J,children:Y(i.rawMaterialPrev)}),e.jsx("td",{style:H,children:Y(i.rawMaterial)}),e.jsx("td",{style:r(L(i.rawMaterial,i.rawMaterialPrev),X),children:q(L(i.rawMaterial,i.rawMaterialPrev))}),e.jsx("td",{style:J,children:Y(i.laborPrev)}),e.jsx("td",{style:H,children:Y(i.labor)}),e.jsx("td",{style:r(L(i.labor,i.laborPrev),X),children:q(L(i.labor,i.laborPrev))}),e.jsx("td",{style:J,children:Y(i.fohFixPrev)}),e.jsx("td",{style:H,children:Y(i.fohFix)}),e.jsx("td",{style:r(L(i.fohFix,i.fohFixPrev),X),children:q(L(i.fohFix,i.fohFixPrev))}),e.jsx("td",{style:J,children:Y(i.fohVarPrev)}),e.jsx("td",{style:H,children:Y(i.fohVar)}),e.jsx("td",{style:r(L(i.fohVar,i.fohVarPrev),X),children:q(L(i.fohVar,i.fohVarPrev))}),e.jsx("td",{style:J,children:Y(i.unfinishDeprePrev)}),e.jsx("td",{style:H,children:Y(i.unfinishDepre)}),e.jsx("td",{style:r(L(i.unfinishDepre,i.unfinishDeprePrev),X),children:q(L(i.unfinishDepre,i.unfinishDeprePrev))}),e.jsx("td",{style:H,children:Y(i.totalProcessCost)}),e.jsx("td",{style:H,children:Y(i.exclusiveInvestment)}),e.jsx("td",{style:H,children:Y(i.totalCostPrev)}),e.jsx("td",{style:H,children:Y(i.totalCost)})]},i.partNo)})})]})}),z=t=>({background:t,height:18,borderTop:"3px solid rgba(0,0,0,0.08)"}),M={position:"sticky",top:0,zIndex:10,padding:"8px 10px",textAlign:"left",fontSize:12,color:"#0b1220",fontWeight:700,borderBottom:"1px solid rgba(0,0,0,0.06)"},H={padding:"8px 10px",fontSize:13,color:"#111827"},X={...H,textAlign:"right"},J={...H,backgroundColor:"#f5f5f5"};({...J});const mt=({currentPage:t,totalPages:r,goToPage:a,totalRecords:o,startIndex:l,endIndex:s})=>e.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{fontSize:13,color:"#6b7280"},children:["Showing ",l+1," to ",Math.min(s,o)," of"," ",o," records"]}),e.jsxs("div",{style:{display:"flex",gap:4,alignItems:"center"},children:[e.jsx("button",{onClick:()=>a(t-1),disabled:t===1,className:"btn btn-ghost",style:{padding:"4px 8px",fontSize:12,opacity:t===1?.5:1,cursor:t===1?"not-allowed":"pointer"},children:"Previous"}),Array.from({length:r},(d,i)=>i+1).map(d=>e.jsx("button",{onClick:()=>a(d),className:d===t?"btn btn-primary":"btn btn-ghost",style:{padding:"4px 8px",fontSize:12,minWidth:32},children:d},d)),e.jsx("button",{onClick:()=>a(t+1),disabled:t===r,className:"btn btn-ghost",style:{padding:"4px 8px",fontSize:12,opacity:t===r?.5:1,cursor:t===r?"not-allowed":"pointer"},children:"Next"})]})]}),ft={"Aug-25":"15,650","Jul-25":"15,420","Jun-25":"15,890"};function gt(){const{rows:t,comparedMonth1:r,comparedMonth2:a,handleCompare:o}=xt(),[l,s]=u.useState("Jul-25"),[d,i]=u.useState("Aug-25"),[f,x]=u.useState(1),[c,m]=u.useState(10),[b,O]=u.useState(10),[h,N]=u.useState({}),R=Math.ceil(t.length/c),E=f*c,T=E-c,B=u.useMemo(()=>t.slice(T,E),[t,T,E]),n=j=>{x(Math.max(1,Math.min(j,R)))},p=j=>Math.abs(j)>b,S=(j,A)=>h[j]!==void 0?h[j]:A,v=(j,A)=>{N(g=>({...g,[j]:A}))},P=j=>{alert(`Detail view for Part: ${j}`)},I=(j,A)=>j!==null&&p(j)?{...A,color:"red",fontWeight:"bold"}:A;return e.jsx("div",{style:{padding:20},children:e.jsxs("div",{style:{maxWidth:"95vw",margin:"0 auto"},children:[e.jsx(ht,{selectedMonth:l,setSelectedMonth:s,selectedMonth2:d,setSelectedMonth2:i,handleCompare:(j,A)=>{o(j,A),x(1)},comparedMonth1:r,comparedMonth2:a,exchangeRates:ft}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("label",{htmlFor:"threshold",style:{fontSize:12},children:"Threshold (%):"}),e.jsx("input",{id:"threshold",type:"number",value:b,onChange:j=>O(Number(j.target.value)),style:{width:60,padding:"4px 8px",fontSize:12,borderRadius:4,border:"1px solid #d1d5db"}})]})}),e.jsx(ut,{currentRecords:B,getDiffStyle:I,handleDetailClick:P,getRemarkValue:S,handleRemarkSave:v,comparedMonth1:r,comparedMonth2:a}),t.length>0&&e.jsx(mt,{currentPage:f,totalPages:R,goToPage:n,setRecordsPerPage:j=>{m(j),x(1)},recordsPerPage:c,totalRecords:t.length})]})})}const Ot=()=>{const t=ae(),r=Ke(),{partNo:a}=Le(),{part:o,currentPeriod:l,comparisonPeriod:s}=r.state||{},d={current:{toolingOuthouseCost:o?.toolingOuthouseCost||100,laborCost:o?.labor||50,fohFixed:o?.fohFix||30,fohVariable:o?.fohVar||20,unfinishedDepreciation:o?.unfinishDepre||10,exclusiveInvestment:o?.exclusiveInvestment||5},comparison:{toolingOuthouseCost:o?.toolingOuthouseCostPrev||90,laborCost:o?.laborPrev||55,fohFixed:o?.fohFixPrev||32,fohVariable:o?.fohVarPrev||18,unfinishedDepreciation:o?.unfinishDeprePrev||12,exclusiveInvestment:o?.exclusiveInvestmentPrev||4}},i=x=>x==null||x===""?"-":typeof x=="number"?x.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}):x,f=(x,c)=>x==null||c==null?"-":i(x-c);return e.jsx("div",{style:{padding:20},children:e.jsxs("div",{style:{maxWidth:"95vw",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:24},children:[e.jsx("button",{onClick:()=>t(-1),style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"8px 12px",fontSize:14,cursor:"pointer",borderRadius:6},children:"← Back"}),e.jsx("h1",{style:{margin:0},children:"Cost Movement Detail"})]}),e.jsxs("div",{style:{display:"flex",gap:16,marginBottom:24,alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:12,color:"#6b7280"},children:"Part No"}),e.jsx("input",{type:"text",value:a,readOnly:!0,style:{width:"200px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",background:"#f8f9fa"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:12,color:"#6b7280"},children:"Current Period"}),e.jsx("select",{value:l,style:{width:"200px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},children:e.jsx("option",{value:l,children:l})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:12,color:"#6b7280"},children:"Comparison Period"}),e.jsx("select",{value:s,style:{width:"200px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},children:e.jsx("option",{value:s,children:s})})]})]}),e.jsx("h2",{children:"Cost Breakdown"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f2f2f2"},children:[e.jsx("th",{style:{padding:"12px 8px",border:"1px solid #ddd",textAlign:"left",fontSize:14},children:"Cost Component"}),e.jsxs("th",{style:{padding:"12px 8px",border:"1px solid #ddd",textAlign:"right",fontSize:14},children:["Current Period (",l,")"]}),e.jsxs("th",{style:{padding:"12px 8px",border:"1px solid #ddd",textAlign:"right",fontSize:14},children:["Comparison Period (",s,")"]}),e.jsx("th",{style:{padding:"12px 8px",border:"1px solid #ddd",textAlign:"right",fontSize:14},children:"Difference"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:"Tooling Outhouse Cost"}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.current.toolingOuthouseCost)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.comparison.toolingOuthouseCost)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:f(d.current.toolingOuthouseCost,d.comparison.toolingOuthouseCost)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",fontWeight:"bold"},children:"Processing Cost"}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"}}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"}}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px 8px 8px 32px",border:"1px solid #ddd"},children:"Labor Cost"}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.current.laborCost)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.comparison.laborCost)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:f(d.current.laborCost,d.comparison.laborCost)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px 8px 8px 32px",border:"1px solid #ddd"},children:"FOH Fixed"}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.current.fohFixed)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.comparison.fohFixed)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:f(d.current.fohFixed,d.comparison.fohFixed)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px 8px 8px 32px",border:"1px solid #ddd"},children:"FOH Variable"}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.current.fohVariable)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.comparison.fohVariable)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:f(d.current.fohVariable,d.comparison.fohVariable)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px 8px 8px 32px",border:"1px solid #ddd"},children:"Unfinished Depreciation"}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.current.unfinishedDepreciation)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.comparison.unfinishedDepreciation)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:f(d.current.unfinishedDepreciation,d.comparison.unfinishedDepreciation)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:"Exclusive Investment"}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.current.exclusiveInvestment)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:i(d.comparison.exclusiveInvestment)}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:f(d.current.exclusiveInvestment,d.comparison.exclusiveInvestment)})]})]})]})]})})},St="/finance-dashboard/";He.createRoot(document.getElementById("root")).render(e.jsx(Ye.StrictMode,{children:e.jsx(Ue,{basename:St,children:e.jsxs(Ve,{children:[e.jsx($,{path:"/",element:e.jsx(Ge,{})}),e.jsx($,{path:"/sync",element:e.jsx(_e,{})}),e.jsx($,{path:"/ppr",element:e.jsx(lt,{})}),e.jsx($,{path:"/part-pairing",element:e.jsx(pt,{})}),e.jsx($,{path:"/period-comparison",element:e.jsx(gt,{})}),e.jsx($,{path:"/cost-movement-detail/:partNo",element:e.jsx(Ot,{})})]})})}));
